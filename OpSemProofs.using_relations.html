<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">OpSemProofs.using_relations</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#"><span class="id" title="library">Basics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Reals.Reals.html#"><span class="id" title="library">Reals</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Sets.Ensembles.html#"><span class="id" title="library">Ensembles</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Logic.FunctionalExtensionality.html#"><span class="id" title="library">Coq.Logic.FunctionalExtensionality</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Logic.ProofIrrelevance.html#"><span class="id" title="library">Coq.Logic.ProofIrrelevance</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#"><span class="id" title="library">Coq.Program.Basics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Equality.html#"><span class="id" title="library">Coq.Program.Equality</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Setoids.Setoid.html#"><span class="id" title="library">Coq.Setoids.Setoid</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpSemProofs.syntax.html#"><span class="id" title="library">syntax</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpSemProofs.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Classes.Morphisms.html#"><span class="id" title="library">Coq.Classes.Morphisms</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpSemProofs.relations.html#"><span class="id" title="library">relations</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpSemProofs.ctxequiv.html#"><span class="id" title="library">ctxequiv</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpSemProofs.properties_of_relations.html#"><span class="id" title="library">properties_of_relations</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpSemProofs.integration.html#"><span class="id" title="library">integration</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.micromega.Lia.html#"><span class="id" title="library">micromega.Lia</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nat</span>.<br/>

<br/>
<span class="id" title="keyword">Transparent</span> <a class="idref" href="OpSemProofs.entropy.html#31bf0b12546409e15021243132fc7574"><span class="id" title="definition">π</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">&quot;</span></a>'λ,' e" := (<a class="idref" href="OpSemProofs.syntax.html#e_lam"><span class="id" title="constructor">e_lam</span></a> <span class="id" title="var">e</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 69, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a name="c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">&quot;</span></a>e0 @ e1" := (<a class="idref" href="OpSemProofs.syntax.html#e_app"><span class="id" title="constructor">e_app</span></a> <span class="id" title="var">e0</span> <span class="id" title="var">e1</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 68, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a name="4da2177d195dc82064c14a944a31fdb1"><span class="id" title="notation">&quot;</span></a>e0 +! e1" := (<a class="idref" href="OpSemProofs.syntax.html#e_plus"><span class="id" title="constructor">e_plus</span></a> <span class="id" title="var">e0</span> <span class="id" title="var">e1</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="var_0"><span class="id" title="definition">var_0</span></a> {τ <span class="id" title="var">Γ</span>} : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="OpSemProofs.using_relations.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.syntax.html#e_var"><span class="id" title="constructor">e_var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> : <a class="idref" href="OpSemProofs.syntax.html#lookup"><span class="id" title="definition">lookup</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="OpSemProofs.using_relations.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="cbaecc9fc20d04e6a332589d28c6b521"><span class="id" title="lemma">π</span></a><a name="cbaecc9fc20d04e6a332589d28c6b521"><span class="id" title="lemma">L_same_integral</span></a> <span class="id" title="var">f</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.utils.html#28309b4b31fc061cea0bf998329431b2"><span class="id" title="notation">∘</span></a> <a class="idref" href="OpSemProofs.entropy.html#31c76a36555cdb7bda2afea8f8b43fb5"><span class="id" title="definition">π</span></a><a class="idref" href="OpSemProofs.entropy.html#31c76a36555cdb7bda2afea8f8b43fb5"><span class="id" title="definition">L</span></a>) <a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> <a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">f</span> <a class="idref" href="OpSemProofs.utils.html#28309b4b31fc061cea0bf998329431b2"><span class="id" title="notation">∘</span></a> <a class="idref" href="OpSemProofs.entropy.html#31c76a36555cdb7bda2afea8f8b43fb5"><span class="id" title="definition">π</span></a><a class="idref" href="OpSemProofs.entropy.html#31c76a36555cdb7bda2afea8f8b43fb5"><span class="id" title="definition">L</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="keyword">fun</span> σ =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Equality.html#block"><span class="id" title="definition">block</span></a> (<span class="id" title="keyword">fun</span> σ<span class="id" title="var">L</span> σ<span class="id" title="var">R</span> =&gt; <span class="id" title="var">f</span> <a class="idref" href="OpSemProofs.using_relations.html#b34a246edaadd919fde3116514891441"><span class="id" title="variable">σ</span></a><a class="idref" href="OpSemProofs.using_relations.html#b34a246edaadd919fde3116514891441"><span class="id" title="variable">L</span></a>) (<a class="idref" href="OpSemProofs.entropy.html#31c76a36555cdb7bda2afea8f8b43fb5"><span class="id" title="definition">π</span></a><a class="idref" href="OpSemProofs.entropy.html#31c76a36555cdb7bda2afea8f8b43fb5"><span class="id" title="definition">L</span></a> <a class="idref" href="OpSemProofs.using_relations.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="OpSemProofs.entropy.html#3f47f6a7fc05e816047de1ebd2a32693"><span class="id" title="definition">π</span></a><a class="idref" href="OpSemProofs.entropy.html#3f47f6a7fc05e816047de1ebd2a32693"><span class="id" title="definition">R</span></a> <a class="idref" href="OpSemProofs.using_relations.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.integration.html#ed3afcd402abe270516a6ae3f8c8535f"><span class="id" title="axiom">integration_</span></a><a class="idref" href="OpSemProofs.integration.html#ed3afcd402abe270516a6ae3f8c8535f"><span class="id" title="axiom">π</span></a><a class="idref" href="OpSemProofs.integration.html#ed3afcd402abe270516a6ae3f8c8535f"><span class="id" title="axiom">L_</span></a><a class="idref" href="OpSemProofs.integration.html#ed3afcd402abe270516a6ae3f8c8535f"><span class="id" title="axiom">π</span></a><a class="idref" href="OpSemProofs.integration.html#ed3afcd402abe270516a6ae3f8c8535f"><span class="id" title="axiom">R</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Equality.html#block"><span class="id" title="definition">block</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> σ.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.integration.html#integration_const_entropy"><span class="id" title="lemma">integration_const_entropy</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="bfac5eddf9fc1d8942a4ab8db88b46db"><span class="id" title="lemma">π</span></a><a name="bfac5eddf9fc1d8942a4ab8db88b46db"><span class="id" title="lemma">R_same_integral</span></a> <span class="id" title="var">f</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.utils.html#28309b4b31fc061cea0bf998329431b2"><span class="id" title="notation">∘</span></a> <a class="idref" href="OpSemProofs.entropy.html#3f47f6a7fc05e816047de1ebd2a32693"><span class="id" title="definition">π</span></a><a class="idref" href="OpSemProofs.entropy.html#3f47f6a7fc05e816047de1ebd2a32693"><span class="id" title="definition">R</span></a>) <a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> <a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">f</span> <a class="idref" href="OpSemProofs.utils.html#28309b4b31fc061cea0bf998329431b2"><span class="id" title="notation">∘</span></a> <a class="idref" href="OpSemProofs.entropy.html#3f47f6a7fc05e816047de1ebd2a32693"><span class="id" title="definition">π</span></a><a class="idref" href="OpSemProofs.entropy.html#3f47f6a7fc05e816047de1ebd2a32693"><span class="id" title="definition">R</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="keyword">fun</span> σ =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Equality.html#block"><span class="id" title="definition">block</span></a> (<span class="id" title="keyword">fun</span> σ<span class="id" title="var">L</span> σ<span class="id" title="var">R</span> =&gt; <span class="id" title="var">f</span> <a class="idref" href="OpSemProofs.using_relations.html#7a5df5b9a6128bb43ae23bafa2ccb45e"><span class="id" title="variable">σ</span></a><a class="idref" href="OpSemProofs.using_relations.html#7a5df5b9a6128bb43ae23bafa2ccb45e"><span class="id" title="variable">R</span></a>) (<a class="idref" href="OpSemProofs.entropy.html#31c76a36555cdb7bda2afea8f8b43fb5"><span class="id" title="definition">π</span></a><a class="idref" href="OpSemProofs.entropy.html#31c76a36555cdb7bda2afea8f8b43fb5"><span class="id" title="definition">L</span></a> <a class="idref" href="OpSemProofs.using_relations.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="OpSemProofs.entropy.html#3f47f6a7fc05e816047de1ebd2a32693"><span class="id" title="definition">π</span></a><a class="idref" href="OpSemProofs.entropy.html#3f47f6a7fc05e816047de1ebd2a32693"><span class="id" title="definition">R</span></a> <a class="idref" href="OpSemProofs.using_relations.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.integration.html#ed3afcd402abe270516a6ae3f8c8535f"><span class="id" title="axiom">integration_</span></a><a class="idref" href="OpSemProofs.integration.html#ed3afcd402abe270516a6ae3f8c8535f"><span class="id" title="axiom">π</span></a><a class="idref" href="OpSemProofs.integration.html#ed3afcd402abe270516a6ae3f8c8535f"><span class="id" title="axiom">L_</span></a><a class="idref" href="OpSemProofs.integration.html#ed3afcd402abe270516a6ae3f8c8535f"><span class="id" title="axiom">π</span></a><a class="idref" href="OpSemProofs.integration.html#ed3afcd402abe270516a6ae3f8c8535f"><span class="id" title="axiom">R</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Equality.html#block"><span class="id" title="definition">block</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.integration.html#integration_const_entropy"><span class="id" title="lemma">integration_const_entropy</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="project_same_integral"><span class="id" title="lemma">project_same_integral</span></a> <span class="id" title="var">f</span> <span class="id" title="var">n</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.utils.html#28309b4b31fc061cea0bf998329431b2"><span class="id" title="notation">∘</span></a> <a class="idref" href="OpSemProofs.entropy.html#31bf0b12546409e15021243132fc7574"><span class="id" title="definition">π</span></a> <a class="idref" href="OpSemProofs.using_relations.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> <a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="OpSemProofs.entropy.html#31bf0b12546409e15021243132fc7574"><span class="id" title="definition">π</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.using_relations.html#cbaecc9fc20d04e6a332589d28c6b521"><span class="id" title="lemma">π</span></a><a class="idref" href="OpSemProofs.using_relations.html#cbaecc9fc20d04e6a332589d28c6b521"><span class="id" title="lemma">L_same_integral</span></a>.<br/>
&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">f</span> <a class="idref" href="OpSemProofs.utils.html#28309b4b31fc061cea0bf998329431b2"><span class="id" title="notation">∘</span></a> <a class="idref" href="OpSemProofs.entropy.html#31bf0b12546409e15021243132fc7574"><span class="id" title="definition">π</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>)) <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> <a class="idref" href="OpSemProofs.utils.html#28309b4b31fc061cea0bf998329431b2"><span class="id" title="notation">∘</span></a> <a class="idref" href="OpSemProofs.entropy.html#31bf0b12546409e15021243132fc7574"><span class="id" title="definition">π</span></a> <span class="id" title="var">n</span> <a class="idref" href="OpSemProofs.utils.html#28309b4b31fc061cea0bf998329431b2"><span class="id" title="notation">∘</span></a> <a class="idref" href="OpSemProofs.entropy.html#3f47f6a7fc05e816047de1ebd2a32693"><span class="id" title="definition">π</span></a><a class="idref" href="OpSemProofs.entropy.html#3f47f6a7fc05e816047de1ebd2a32693"><span class="id" title="definition">R</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.using_relations.html#bfac5eddf9fc1d8942a4ab8db88b46db"><span class="id" title="lemma">π</span></a><a class="idref" href="OpSemProofs.using_relations.html#bfac5eddf9fc1d8942a4ab8db88b46db"><span class="id" title="lemma">R_same_integral</span></a>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="add_zero_related"><span class="id" title="lemma">add_zero_related</span></a> (<span class="id" title="var">e</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.syntax.html#e2ec2a380d764ef079e64369fbd29f66"><span class="id" title="notation">·</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a>) :<br/>
&nbsp;&nbsp;(<a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">EXP</span></a> <a class="idref" href="OpSemProofs.syntax.html#e2ec2a380d764ef079e64369fbd29f66"><span class="id" title="notation">·</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.syntax.html#e_real"><span class="id" title="constructor">e_real</span></a> 0 <a class="idref" href="OpSemProofs.using_relations.html#4da2177d195dc82064c14a944a31fdb1"><span class="id" title="notation">+!</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">≈</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.properties_of_relations.html#relate_exprs"><span class="id" title="lemma">relate_exprs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.relations.html#3d73e4d0d501299c162b8b474d094411"><span class="id" title="lemma">by_μe_eq_μEntropy_plus</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="OpSemProofs.relations.html#val_is_dirac"><span class="id" title="lemma">val_is_dirac</span></a> (<a class="idref" href="OpSemProofs.syntax.html#v_real"><span class="id" title="definition">v_real</span></a> 0)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.integration.html#meas_id_left"><span class="id" title="lemma">meas_id_left</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="OpSemProofs.relations.html#plus_in"><span class="id" title="definition">plus_in</span></a> (<a class="idref" href="OpSemProofs.syntax.html#v_real"><span class="id" title="definition">v_real</span></a> 0) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.integration.html#dirac"><span class="id" title="definition">dirac</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_val</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="OpSemProofs.relations.html#plus_in"><span class="id" title="definition">plus_in</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Reals.Rdefinitions.html#7de2d195108bdf12ab090711a555a032"><span class="id" title="notation">+</span></a> <span class="id" title="var">r</span>)%<span class="id" title="var">R</span> <span class="id" title="keyword">with</span> <span class="id" title="var">r</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.integration.html#meas_id_right"><span class="id" title="lemma">meas_id_right</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="add_comm_related"><span class="id" title="lemma">add_comm_related</span></a> <span class="id" title="var">Γ</span> (<span class="id" title="var">e0</span> <span class="id" title="var">e1</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a>) :<br/>
&nbsp;&nbsp;(<a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">EXP</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e0"><span class="id" title="variable">e0</span></a> <a class="idref" href="OpSemProofs.using_relations.html#4da2177d195dc82064c14a944a31fdb1"><span class="id" title="notation">+!</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">≈</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="OpSemProofs.using_relations.html#4da2177d195dc82064c14a944a31fdb1"><span class="id" title="notation">+!</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e0"><span class="id" title="variable">e0</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.properties_of_relations.html#relate_exprs"><span class="id" title="lemma">relate_exprs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="OpSemProofs.relations.html#3d73e4d0d501299c162b8b474d094411"><span class="id" title="lemma">by_μe_eq_μEntropy_plus</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.relations.html#2be176f2e0eea699c741e37f67beb394"><span class="id" title="lemma">μ_interchangable</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">integrand_extensionality</span> <span class="id" title="var">v1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">integrand_extensionality</span> <span class="id" title="var">v0</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_val</span> <span class="id" title="var">v0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_val</span> <span class="id" title="var">v1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" title="axiom">Rplus_comm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Fixpoint</span> <a name="dep_ids'"><span class="id" title="definition">dep_ids'</span></a> (<span class="id" title="var">Γ0</span> <span class="id" title="var">Γ1</span> : <a class="idref" href="OpSemProofs.syntax.html#Env"><span class="id" title="definition">Env</span></a> <a class="idref" href="OpSemProofs.syntax.html#Ty"><span class="id" title="inductive">Ty</span></a>) : <a class="idref" href="OpSemProofs.syntax.html#dep_list"><span class="id" title="inductive">dep_list</span></a> (<a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#2f534f8159ccf794f678b28da8079774"><span class="id" title="variable">Γ0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="OpSemProofs.using_relations.html#bbb14d0bcc77c44a469e43c5550510ff"><span class="id" title="variable">Γ1</span></a>)) <a class="idref" href="OpSemProofs.using_relations.html#bbb14d0bcc77c44a469e43c5550510ff"><span class="id" title="variable">Γ1</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="OpSemProofs.using_relations.html#bbb14d0bcc77c44a469e43c5550510ff"><span class="id" title="variable">Γ1</span></a> <span class="id" title="keyword">return</span> <a class="idref" href="OpSemProofs.syntax.html#dep_list"><span class="id" title="inductive">dep_list</span></a> (<a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#2f534f8159ccf794f678b28da8079774"><span class="id" title="variable">Γ0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="OpSemProofs.using_relations.html#bbb14d0bcc77c44a469e43c5550510ff"><span class="id" title="variable">Γ1</span></a>)) <a class="idref" href="OpSemProofs.using_relations.html#bbb14d0bcc77c44a469e43c5550510ff"><span class="id" title="variable">Γ1</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">nil</span> =&gt; <a class="idref" href="OpSemProofs.syntax.html#dep_nil"><span class="id" title="constructor">dep_nil</span></a><br/>
&nbsp;&nbsp;| τ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ1'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.syntax.html#dep_cons"><span class="id" title="constructor">dep_cons</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="OpSemProofs.syntax.html#e_var"><span class="id" title="constructor">e_var</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="OpSemProofs.using_relations.html#2f534f8159ccf794f678b28da8079774"><span class="id" title="variable">Γ0</span></a>) <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#bb2ff8a75c4ea767c31697e27ea3da5c"><span class="id" title="notation">rew</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#bb2ff8a75c4ea767c31697e27ea3da5c"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#bb2ff8a75c4ea767c31697e27ea3da5c"><span class="id" title="notation">[</span></a><span class="id" title="keyword">fun</span> <span class="id" title="var">z</span> =&gt; <a class="idref" href="OpSemProofs.syntax.html#dep_list"><span class="id" title="inductive">dep_list</span></a> (<a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#z"><span class="id" title="variable">z</span></a>) <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#bb2ff8a75c4ea767c31697e27ea3da5c"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#bb2ff8a75c4ea767c31697e27ea3da5c"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> <a class="idref" href="OpSemProofs.using_relations.html#2f534f8159ccf794f678b28da8079774"><span class="id" title="variable">Γ0</span></a> (τ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#nil"><span class="id" title="abbreviation">nil</span></a>) <span class="id" title="var">Γ1'</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#bb2ff8a75c4ea767c31697e27ea3da5c"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.using_relations.html#dep_ids'"><span class="id" title="definition">dep_ids'</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#2f534f8159ccf794f678b28da8079774"><span class="id" title="variable">Γ0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> τ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#nil"><span class="id" title="abbreviation">nil</span></a>) <span class="id" title="var">Γ1'</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="dep_ids"><span class="id" title="definition">dep_ids</span></a> := <a class="idref" href="OpSemProofs.using_relations.html#dep_ids'"><span class="id" title="definition">dep_ids'</span></a> <a class="idref" href="OpSemProofs.syntax.html#e2ec2a380d764ef079e64369fbd29f66"><span class="id" title="notation">·</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="erase_eq"><span class="id" title="lemma">erase_eq</span></a> (<span class="id" title="var">Γ</span> <span class="id" title="var">Γ0</span> <span class="id" title="var">Γ1</span> : <a class="idref" href="OpSemProofs.syntax.html#Env"><span class="id" title="definition">Env</span></a> <a class="idref" href="OpSemProofs.syntax.html#Ty"><span class="id" title="inductive">Ty</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">d0</span> : <a class="idref" href="OpSemProofs.syntax.html#dep_list"><span class="id" title="inductive">dep_list</span></a> (<a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#2f534f8159ccf794f678b28da8079774"><span class="id" title="variable">Γ0</span></a>) <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">d1</span> : <a class="idref" href="OpSemProofs.syntax.html#dep_list"><span class="id" title="inductive">dep_list</span></a> (<a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#bbb14d0bcc77c44a469e43c5550510ff"><span class="id" title="variable">Γ1</span></a>) <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">HΓ</span> : <a class="idref" href="OpSemProofs.using_relations.html#2f534f8159ccf794f678b28da8079774"><span class="id" title="variable">Γ0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.using_relations.html#bbb14d0bcc77c44a469e43c5550510ff"><span class="id" title="variable">Γ1</span></a>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#d0"><span class="id" title="variable">d0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Equality.html#9347bfb3e1005d5e7e44e8e8be9f3987"><span class="id" title="notation">~=</span></a> <a class="idref" href="OpSemProofs.using_relations.html#d1"><span class="id" title="variable">d1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="OpSemProofs.syntax.html#erase_wt_expr_env"><span class="id" title="definition">erase_wt_expr_env</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#2f534f8159ccf794f678b28da8079774"><span class="id" title="variable">Γ0</span></a> <a class="idref" href="OpSemProofs.using_relations.html#d0"><span class="id" title="variable">d0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="OpSemProofs.syntax.html#erase_wt_expr_env"><span class="id" title="definition">erase_wt_expr_env</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#bbb14d0bcc77c44a469e43c5550510ff"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="OpSemProofs.using_relations.html#d1"><span class="id" title="variable">d1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="dep_ids_ids"><span class="id" title="lemma">dep_ids_ids</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">x</span> τ :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.syntax.html#lookup"><span class="id" title="definition">lookup</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="OpSemProofs.using_relations.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.syntax.html#erase_wt_expr_env"><span class="id" title="definition">erase_wt_expr_env</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#dep_ids"><span class="id" title="definition">dep_ids</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="OpSemProofs.using_relations.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">ids</span> <a class="idref" href="OpSemProofs.using_relations.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">enough</span> (<span class="id" title="keyword">forall</span> <span class="id" title="var">Γ0</span>, <a class="idref" href="OpSemProofs.syntax.html#erase_wt_expr_env"><span class="id" title="definition">erase_wt_expr_env</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#dep_ids'"><span class="id" title="definition">dep_ids'</span></a> <a class="idref" href="OpSemProofs.using_relations.html#2f534f8159ccf794f678b28da8079774"><span class="id" title="variable">Γ0</span></a> <span class="id" title="var">Γ</span>) <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.syntax.html#u_var"><span class="id" title="constructor">u_var</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="OpSemProofs.using_relations.html#2f534f8159ccf794f678b28da8079774"><span class="id" title="variable">Γ0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <span class="id" title="var">x</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ0</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">intros</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHx</span> <span class="id" title="var">Γ</span> (<span class="id" title="var">Γ0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#nil"><span class="id" title="abbreviation">nil</span></a>) <span class="id" title="var">H</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<a class="idref" href="OpSemProofs.using_relations.html#dep_ids'"><span class="id" title="definition">dep_ids'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>, &lt;- <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Arith.Plus.html#plus_assoc"><span class="id" title="abbreviation">plus_assoc</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">IHx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="OpSemProofs.using_relations.html#erase_eq"><span class="id" title="lemma">erase_eq</span></a>; <span class="id" title="tactic">auto</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq_rect_r"><span class="id" title="definition">eq_rect_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">dep_destruct</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a name="open_subst1"><span class="id" title="definition">open_subst1</span></a> {<span class="id" title="var">Γ</span> τ<span class="id" title="var">a</span> τ<span class="id" title="var">r</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="OpSemProofs.using_relations.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">r</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">esub</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">a</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">{</span></a> <span class="id" title="var">e'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.syntax.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">e'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="notation">(</span><a class="idref" href="OpSemProofs.syntax.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a><span class="id" title="notation">).[</span><a class="idref" href="OpSemProofs.syntax.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="OpSemProofs.using_relations.html#esub"><span class="id" title="variable">esub</span></a> <span class="id" title="notation">/]</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">}</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<a class="idref" href="OpSemProofs.syntax.html#ty_subst"><span class="id" title="lemma">ty_subst</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="OpSemProofs.syntax.html#dep_cons"><span class="id" title="constructor">dep_cons</span></a> <a class="idref" href="OpSemProofs.using_relations.html#esub"><span class="id" title="variable">esub</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#dep_ids"><span class="id" title="definition">dep_ids</span></a> <span class="id" title="var">_</span>)))) <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">He0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.syntax.html#subst_only_matters_up_to_env"><span class="id" title="lemma">subst_only_matters_up_to_env</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Γ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">intros</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="OpSemProofs.using_relations.html#dep_ids_ids"><span class="id" title="lemma">dep_ids_ids</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="is_pure"><span class="id" title="definition">is_pure</span></a> (<span class="id" title="var">e</span> : <a class="idref" href="OpSemProofs.syntax.html#u_expr"><span class="id" title="inductive">u_expr</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.syntax.html#u_real"><span class="id" title="constructor">u_real</span></a> <span class="id" title="var">_</span> | <a class="idref" href="OpSemProofs.syntax.html#u_lam"><span class="id" title="constructor">u_lam</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> | <a class="idref" href="OpSemProofs.syntax.html#u_var"><span class="id" title="constructor">u_var</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lam_is_dirac"><span class="id" title="lemma">lam_is_dirac</span></a> {τ<span class="id" title="var">a</span> τ<span class="id" title="var">r</span>} (<span class="id" title="var">e</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="OpSemProofs.syntax.html#e2ec2a380d764ef079e64369fbd29f66"><span class="id" title="notation">·</span></a>) <a class="idref" href="OpSemProofs.using_relations.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">r</span></a>) : <a class="idref" href="OpSemProofs.relations.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="definition">μ</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">λ</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">,</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.integration.html#dirac"><span class="id" title="definition">dirac</span></a> (<a class="idref" href="OpSemProofs.syntax.html#v_lam"><span class="id" title="definition">v_lam</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="OpSemProofs.relations.html#val_is_dirac"><span class="id" title="lemma">val_is_dirac</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="beta_value"><span class="id" title="lemma">beta_value</span></a> {<span class="id" title="var">Γ</span> τ τ<span class="id" title="var">v</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#427706c48375a913432eeaeead1ce4dd"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#427706c48375a913432eeaeead1ce4dd"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="OpSemProofs.using_relations.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">v</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#427706c48375a913432eeaeead1ce4dd"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#427706c48375a913432eeaeead1ce4dd"><span class="id" title="variable">v</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.using_relations.html#is_pure"><span class="id" title="definition">is_pure</span></a> <a class="idref" href="OpSemProofs.using_relations.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">EXP</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">λ</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">,</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="OpSemProofs.using_relations.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">≈</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#open_subst1"><span class="id" title="definition">open_subst1</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="OpSemProofs.using_relations.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">v_val</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.properties_of_relations.html#relate_exprs"><span class="id" title="lemma">relate_exprs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.relations.html#6b159917391e0b22c3d219ed753c075f"><span class="id" title="lemma">by_μe_eq_μEntropy_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.using_relations.html#lam_is_dirac"><span class="id" title="lemma">lam_is_dirac</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.integration.html#meas_id_left"><span class="id" title="lemma">meas_id_left</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="OpSemProofs.syntax.html#is_val"><span class="id" title="definition">is_val</span></a> <span class="id" title="var">e0_2</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H1</span> <span class="id" title="var">v_val</span>; <span class="id" title="tactic">clear</span>; <span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span> <span class="id" title="var">v_val</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">destruct</span> <span class="id" title="var">e0_2</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">auto</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="OpSemProofs.syntax.html#env_search_subst"><span class="id" title="lemma">env_search_subst</span></a> ρ <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> <span class="id" title="var">Hv</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="OpSemProofs.relations.html#val_is_dirac"><span class="id" title="lemma">val_is_dirac</span></a> (<a class="idref" href="OpSemProofs.syntax.html#mk_val"><span class="id" title="constructor">mk_val</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.integration.html#meas_id_left"><span class="id" title="lemma">meas_id_left</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">enough</span> (<span class="id" title="var">e0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">e1</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.syntax.html#erase_injective"><span class="id" title="lemma">erase_injective</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">He1</span>, <span class="id" title="var">He0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">asimpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.syntax.html#subst_only_matters_up_to_env"><span class="id" title="lemma">subst_only_matters_up_to_env</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="OpSemProofs.using_relations.html#dep_ids_ids"><span class="id" title="lemma">dep_ids_ids</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Print</span> <span class="id" title="keyword">Assumptions</span> <a class="idref" href="OpSemProofs.using_relations.html#beta_value"><span class="id" title="lemma">beta_value</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="apply_id_equiv"><span class="id" title="lemma">apply_id_equiv</span></a> {<span class="id" title="var">Γ</span> τ} (<span class="id" title="var">e</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a>) :<br/>
&nbsp;&nbsp;(<a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">EXP</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">λ</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">,</span></a> <a class="idref" href="OpSemProofs.using_relations.html#var_0"><span class="id" title="definition">var_0</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">≈</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">He</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.properties_of_relations.html#relate_exprs"><span class="id" title="lemma">relate_exprs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.relations.html#6b159917391e0b22c3d219ed753c075f"><span class="id" title="lemma">by_μe_eq_μEntropy_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.using_relations.html#lam_is_dirac"><span class="id" title="lemma">lam_is_dirac</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.integration.html#meas_id_left"><span class="id" title="lemma">meas_id_left</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">_</span> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">enough</span> (<span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.integration.html#dirac"><span class="id" title="definition">dirac</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.integration.html#meas_id_right"><span class="id" title="lemma">meas_id_right</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">m</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">fold_μ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">asimpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">He0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.relations.html#val_is_dirac"><span class="id" title="lemma">val_is_dirac</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="the_infinite_cons_doesnt_exist"><span class="id" title="lemma">the_infinite_cons_doesnt_exist</span></a> {<span class="id" title="var">A</span>} {<span class="id" title="var">x</span> : <a class="idref" href="OpSemProofs.using_relations.html#A"><span class="id" title="variable">A</span></a>} {<span class="id" title="var">xs</span>} : (<a class="idref" href="OpSemProofs.using_relations.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="OpSemProofs.using_relations.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="OpSemProofs.using_relations.html#xs"><span class="id" title="variable">xs</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#nil"><span class="id" title="abbreviation">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">xs</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#nil"><span class="id" title="abbreviation">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">xs</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#app_inv_tail"><span class="id" title="lemma">app_inv_tail</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="simple_ctx_frame"><span class="id" title="definition">simple_ctx_frame</span></a> <span class="id" title="var">Γ</span> τ<span class="id" title="var">o</span> τ<span class="id" title="var">h</span> := (<a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">FRAME</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">h</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a name="simple_ctx"><span class="id" title="definition">simple_ctx</span></a> <span class="id" title="var">Γ</span> := <a class="idref" href="OpSemProofs.chain.html#chain"><span class="id" title="inductive">chain</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#simple_ctx_frame"><span class="id" title="definition">simple_ctx_frame</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="simple_ctx_frame_rect"><span class="id" title="lemma">simple_ctx_frame_rect</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">Γ</span> τ<span class="id" title="var">o</span> τ<span class="id" title="var">i</span>, <a class="idref" href="OpSemProofs.using_relations.html#simple_ctx_frame"><span class="id" title="definition">simple_ctx_frame</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a> <a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">case_app_f</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">Γ</span> τ<span class="id" title="var">a</span> τ<span class="id" title="var">r</span> <span class="id" title="var">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.using_relations.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">r</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">a</span></a> <a class="idref" href="OpSemProofs.syntax.html#f3c8ae9482c969ad716aa1d8aebf6f70"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">r</span></a>) (<a class="idref" href="OpSemProofs.ctxequiv.html#c_app_f"><span class="id" title="constructor">c_app_f</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">case_app_a</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">Γ</span> τ<span class="id" title="var">a</span> τ<span class="id" title="var">r</span> <span class="id" title="var">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.using_relations.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">r</span></a> <a class="idref" href="OpSemProofs.using_relations.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">a</span></a> (<a class="idref" href="OpSemProofs.ctxequiv.html#c_app_a"><span class="id" title="constructor">c_app_a</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">case_factor</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">Γ</span>, <a class="idref" href="OpSemProofs.using_relations.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#c_factor"><span class="id" title="constructor">c_factor</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">case_plus_l</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">Γ</span> <span class="id" title="var">e</span>, <a class="idref" href="OpSemProofs.using_relations.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a> (<a class="idref" href="OpSemProofs.ctxequiv.html#c_plus_l"><span class="id" title="constructor">c_plus_l</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">case_plus_r</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">Γ</span> <span class="id" title="var">e</span>, <a class="idref" href="OpSemProofs.using_relations.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a> (<a class="idref" href="OpSemProofs.ctxequiv.html#c_plus_r"><span class="id" title="constructor">c_plus_r</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">forall</span> <span class="id" title="var">Γ</span> τ<span class="id" title="var">o</span> τ<span class="id" title="var">i</span> <span class="id" title="var">f</span>, <a class="idref" href="OpSemProofs.using_relations.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a> <a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">i</span></a> <a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="OpSemProofs.using_relations.html#simple_ctx_frame"><span class="id" title="definition">simple_ctx_frame</span></a> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">dep_destruct</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradict</span> (<a class="idref" href="OpSemProofs.using_relations.html#the_infinite_cons_doesnt_exist"><span class="id" title="lemma">the_infinite_cons_doesnt_exist</span></a> <span class="id" title="var">x0</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">&quot;</span></a>'SIMPLE' Γ ⊢ [ τh ] : τo" := (<a class="idref" href="OpSemProofs.using_relations.html#simple_ctx"><span class="id" title="definition">simple_ctx</span></a> <span class="id" title="var">Γ</span> τ<span class="id" title="var">o</span> τ<span class="id" title="var">h</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="var">Γ</span>, τ<span class="id" title="var">h</span>, τ<span class="id" title="var">o</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 200, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="unsimple"><span class="id" title="definition">unsimple</span></a> {<span class="id" title="var">Γ</span>} : <span class="id" title="keyword">forall</span> {τ<span class="id" title="var">o</span> τ<span class="id" title="var">h</span>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">SIMPLE</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.using_relations.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">h</span></a><a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">CTX</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">h</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fix</span> <span class="id" title="var">unsimple</span> {τ<span class="id" title="var">o</span> τ<span class="id" title="var">h</span>} <span class="id" title="var">S</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="OpSemProofs.using_relations.html#S"><span class="id" title="variable">S</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.chain.html#chain_nil"><span class="id" title="constructor">chain_nil</span></a> =&gt; <a class="idref" href="OpSemProofs.chain.html#chain_nil"><span class="id" title="constructor">chain_nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">f</span> <a class="idref" href="OpSemProofs.chain.html#1021880247279dc3b4c69f3c19e5eb38"><span class="id" title="notation">:::</span></a> <span class="id" title="var">S'</span> =&gt; <span class="id" title="var">f</span> <a class="idref" href="OpSemProofs.chain.html#5be159d7812e0ee1400ff6c822eafcc6"><span class="id" title="notation">::::</span></a> <a class="idref" href="OpSemProofs.using_relations.html#unsimple"><span class="id" title="variable">unsimple</span></a> <span class="id" title="var">S'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="unsimple_cons"><span class="id" title="lemma">unsimple_cons</span></a> {<span class="id" title="var">Γ</span> τ<span class="id" title="var">o</span> τ<span class="id" title="var">m</span> τ<span class="id" title="var">i</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">p</span> : <a class="idref" href="OpSemProofs.using_relations.html#simple_ctx_frame"><span class="id" title="definition">simple_ctx_frame</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a> <a class="idref" href="OpSemProofs.using_relations.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">S</span> : <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">SIMPLE</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">i</span></a><a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="OpSemProofs.using_relations.html#unsimple"><span class="id" title="definition">unsimple</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="OpSemProofs.chain.html#1021880247279dc3b4c69f3c19e5eb38"><span class="id" title="notation">:::</span></a> <a class="idref" href="OpSemProofs.using_relations.html#S"><span class="id" title="variable">S</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.using_relations.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="OpSemProofs.chain.html#5be159d7812e0ee1400ff6c822eafcc6"><span class="id" title="notation">::::</span></a> <a class="idref" href="OpSemProofs.using_relations.html#unsimple"><span class="id" title="definition">unsimple</span></a> <a class="idref" href="OpSemProofs.using_relations.html#S"><span class="id" title="variable">S</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="keyword">Typeclasses</span> <span class="id" title="var">Unique</span> <span class="id" title="var">Instances</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="simple_plug"><span class="id" title="instance">simple_plug</span></a> <span class="id" title="var">Γ</span> τ<span class="id" title="var">o</span> τ<span class="id" title="var">h</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.ctxequiv.html#Plug.type"><span class="id" title="class">Plug.type</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">SIMPLE</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.using_relations.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">h</span></a><a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>) (<a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">h</span></a>) (<a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>) :=<br/>
&nbsp;&nbsp;{ <a class="idref" href="OpSemProofs.ctxequiv.html#Plug.plug"><span class="id" title="method">plug</span></a> <span class="id" title="var">S</span> <span class="id" title="var">e</span> := <a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#unsimple"><span class="id" title="definition">unsimple</span></a> <a class="idref" href="OpSemProofs.using_relations.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">)⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a> }.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="Lift"><span class="id" title="module">Lift</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a name="Lift.type"><span class="id" title="record">type</span></a> <span class="id" title="var">obj</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="Lift.mk"><span class="id" title="constructor">mk</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Lift.lobj"><span class="id" title="projection">lobj</span></a> : <a class="idref" href="OpSemProofs.syntax.html#Ty"><span class="id" title="inductive">Ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Lift.lift1"><span class="id" title="projection">lift1</span></a> τ0 : <a class="idref" href="OpSemProofs.using_relations.html#obj"><span class="id" title="variable">obj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.using_relations.html#lobj"><span class="id" title="method">lobj</span></a> <a class="idref" href="OpSemProofs.using_relations.html#3be58cfc4942dd09d44df0a37626404b"><span class="id" title="variable">τ0</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="OpSemProofs.using_relations.html#Lift.mk"><span class="id" title="constructor">mk</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="OpSemProofs.using_relations.html#Lift"><span class="id" title="module">Lift</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="lift1"><span class="id" title="definition">lift1</span></a> {<span class="id" title="var">o</span> <span class="id" title="var">t</span>} := @<a class="idref" href="OpSemProofs.using_relations.html#lift1"><span class="id" title="method">Lift.lift1</span></a> <a class="idref" href="OpSemProofs.using_relations.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="OpSemProofs.using_relations.html#t"><span class="id" title="variable">t</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Notation&nbsp;"e&nbsp;^&nbsp;τ"&nbsp;:=&nbsp;(lift1&nbsp;τ&nbsp;e).&nbsp;*)</span><br/>
<span class="id" title="keyword">Notation</span> <a name="1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">&quot;</span></a>e ^ τ" := (<a class="idref" href="OpSemProofs.using_relations.html#lift1"><span class="id" title="definition">lift1</span></a> τ <span class="id" title="var">e</span>) (<span class="id" title="var">only</span> <span class="id" title="var">printing</span>).<br/>
<span class="comment">(*&nbsp;temporary&nbsp;brute&nbsp;force&nbsp;way&nbsp;to&nbsp;make&nbsp;the&nbsp;typeclass&nbsp;resolution&nbsp;be&nbsp;less&nbsp;searchy<br/>
&nbsp;&nbsp;&nbsp;and&nbsp;more&nbsp;find&nbsp;the&nbsp;obvious&nbsp;instancy.&nbsp;*)</span><br/>
<span class="id" title="keyword">Notation</span> <a name="1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">&quot;</span></a>e ^ τ" := <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">exact</span> (<a class="idref" href="OpSemProofs.using_relations.html#lift1"><span class="id" title="definition">lift1</span></a> τ <span class="id" title="var">e</span>)) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
<span class="id" title="keyword">Notation</span> <a name="4050e36d999608810a0c5caab3c4684b"><span class="id" title="notation">&quot;</span></a>e ↑" := (<span class="id" title="definition">rename</span> <span class="id" title="notation">(+</span>1<span class="id" title="notation">)</span> <span class="id" title="var">e</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 3).<br/>

<br/>
<span class="comment">(*&nbsp;Instance&nbsp;ren_lift&nbsp;{A}&nbsp;{r&nbsp;:&nbsp;Rename&nbsp;A}&nbsp;:&nbsp;Liftable&nbsp;(const&nbsp;A)&nbsp;:=&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;{&nbsp;lift1&nbsp;Γ&nbsp;τ&nbsp;e&nbsp;:=&nbsp;rename&nbsp;(+1)&nbsp;(e&nbsp;:&nbsp;A)&nbsp;}.&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;Lemma&nbsp;ctx_rename_compose&nbsp;(S&nbsp;:&nbsp;Ctx)&nbsp;(f&nbsp;g&nbsp;:&nbsp;nat&nbsp;-&gt;&nbsp;nat)&nbsp;:&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;rename&nbsp;f&nbsp;(rename&nbsp;g&nbsp;S)&nbsp;=&nbsp;rename&nbsp;(f&nbsp;∘&nbsp;g)&nbsp;S.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Proof.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;unfold&nbsp;rename.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;revert&nbsp;f&nbsp;g.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;induction&nbsp;S;&nbsp;intros;&nbsp;simpl;&nbsp;rewrite&nbsp;?IHS,&nbsp;?H;&nbsp;auto;&nbsp;try&nbsp;autosubst.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;f_equal.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;assert&nbsp;(upren&nbsp;f&nbsp;∘&nbsp;upren&nbsp;g&nbsp;=&nbsp;upren&nbsp;(f&nbsp;∘&nbsp;g)).&nbsp;{&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;compute.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extensionality&nbsp;x.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;x;&nbsp;auto.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;}&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;rewrite&nbsp;&lt;-&nbsp;H.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;auto.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Qed.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="expr_lift"><span class="id" title="instance">expr_lift</span></a> <span class="id" title="var">Γ</span> τ : <a class="idref" href="OpSemProofs.using_relations.html#type"><span class="id" title="class">Lift.type</span></a> (<a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.using_relations.html#mk"><span class="id" title="constructor">Lift.mk</span></a> (<span class="id" title="keyword">fun</span> τ0 <span class="id" title="var">e</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<a class="idref" href="OpSemProofs.syntax.html#expr_ren"><span class="id" title="lemma">expr_ren</span></a> <span class="id" title="notation">(+</span>1<span class="id" title="notation">)</span> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#3be58cfc4942dd09d44df0a37626404b"><span class="id" title="variable">τ0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">Γ</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="expr_lift_erase"><span class="id" title="lemma">expr_lift_erase</span></a> {<span class="id" title="var">Γ</span> τ} (<span class="id" title="var">e</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a>) τ0 :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.syntax.html#erase"><span class="id" title="definition">erase</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a> <a class="idref" href="OpSemProofs.using_relations.html#3be58cfc4942dd09d44df0a37626404b"><span class="id" title="variable">τ0</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.using_relations.html#4050e36d999608810a0c5caab3c4684b"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.syntax.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.using_relations.html#4050e36d999608810a0c5caab3c4684b"><span class="id" title="notation">)↑</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">He0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">autosubst</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="simple_ctx_frame_lift"><span class="id" title="definition">simple_ctx_frame_lift</span></a> {<span class="id" title="var">Γ</span> τ<span class="id" title="var">o</span> τ<span class="id" title="var">e</span>} τ0 (<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.using_relations.html#simple_ctx_frame"><span class="id" title="definition">simple_ctx_frame</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a> <a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.using_relations.html#simple_ctx_frame"><span class="id" title="definition">simple_ctx_frame</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#3be58cfc4942dd09d44df0a37626404b"><span class="id" title="variable">τ0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a> <a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">in</span> (<a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">FRAME</span></a> <span class="id" title="var">Γ'</span> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">[</span></a><span class="id" title="var">Γ''</span> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> τ<span class="id" title="var">e'</span><a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">:</span></a> τ<span class="id" title="var">o'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">return</span> (<a class="idref" href="OpSemProofs.using_relations.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.using_relations.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.using_relations.html#simple_ctx_frame"><span class="id" title="definition">simple_ctx_frame</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#3be58cfc4942dd09d44df0a37626404b"><span class="id" title="variable">τ0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="OpSemProofs.using_relations.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) <a class="idref" href="OpSemProofs.using_relations.html#aeca1d7ecd1cd361e3b2b59d71ab5dc2"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#aeca1d7ecd1cd361e3b2b59d71ab5dc2"><span class="id" title="variable">o'</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e1722f6b9f9fa869eafb5f82026e9bee"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#e1722f6b9f9fa869eafb5f82026e9bee"><span class="id" title="variable">e'</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#c_app_f"><span class="id" title="constructor">c_app_f</span></a> <span class="id" title="var">e</span> =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="OpSemProofs.ctxequiv.html#c_app_f"><span class="id" title="constructor">c_app_f</span></a> (<span class="id" title="var">e</span> <a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a> <a class="idref" href="OpSemProofs.using_relations.html#3be58cfc4942dd09d44df0a37626404b"><span class="id" title="variable">τ0</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#c_app_a"><span class="id" title="constructor">c_app_a</span></a> <span class="id" title="var">e</span> =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="OpSemProofs.ctxequiv.html#c_app_a"><span class="id" title="constructor">c_app_a</span></a> (<span class="id" title="var">e</span> <a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a> <a class="idref" href="OpSemProofs.using_relations.html#3be58cfc4942dd09d44df0a37626404b"><span class="id" title="variable">τ0</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#c_factor"><span class="id" title="constructor">c_factor</span></a> =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="OpSemProofs.ctxequiv.html#c_factor"><span class="id" title="constructor">c_factor</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#c_plus_l"><span class="id" title="constructor">c_plus_l</span></a> <span class="id" title="var">e</span> =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="OpSemProofs.ctxequiv.html#c_plus_l"><span class="id" title="constructor">c_plus_l</span></a> (<span class="id" title="var">e</span> <a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a> <a class="idref" href="OpSemProofs.using_relations.html#3be58cfc4942dd09d44df0a37626404b"><span class="id" title="variable">τ0</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#c_plus_r"><span class="id" title="constructor">c_plus_r</span></a> <span class="id" title="var">e</span> =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="OpSemProofs.ctxequiv.html#c_plus_r"><span class="id" title="constructor">c_plus_r</span></a> (<span class="id" title="var">e</span> <a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a> <a class="idref" href="OpSemProofs.using_relations.html#3be58cfc4942dd09d44df0a37626404b"><span class="id" title="variable">τ0</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#c_lam"><span class="id" title="constructor">c_lam</span></a> =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#False_rect"><span class="id" title="definition">False_rect</span></a> <span class="id" title="var">_</span> (<a class="idref" href="OpSemProofs.using_relations.html#the_infinite_cons_doesnt_exist"><span class="id" title="lemma">the_infinite_cons_doesnt_exist</span></a> <a class="idref" href="OpSemProofs.using_relations.html#H"><span class="id" title="variable">H</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="OpSemProofs.using_relations.html#simple_ctx_frame_lift"><span class="id" title="definition">simple_ctx_frame_lift</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> !<span class="id" title="var">f</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="simple_ctx_frame_lift'"><span class="id" title="instance">simple_ctx_frame_lift'</span></a> <span class="id" title="var">Γ</span> τ<span class="id" title="var">o</span> τ<span class="id" title="var">e</span> : <a class="idref" href="OpSemProofs.using_relations.html#type"><span class="id" title="class">Lift.type</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#simple_ctx_frame"><span class="id" title="definition">simple_ctx_frame</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a> <a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a>) :=<br/>
&nbsp;&nbsp;{ <a class="idref" href="OpSemProofs.using_relations.html#lift1"><span class="id" title="method">lift1</span></a> := <a class="idref" href="OpSemProofs.using_relations.html#simple_ctx_frame_lift"><span class="id" title="definition">simple_ctx_frame_lift</span></a>}.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="up_simple_ctx'"><span class="id" title="definition">up_simple_ctx'</span></a> {<span class="id" title="var">Γ</span> τ<span class="id" title="var">e</span> τ<span class="id" title="var">o</span>} τ0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">S</span> : (<a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">SIMPLE</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>))<br/>
&nbsp;&nbsp;: (<a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">SIMPLE</span></a> <a class="idref" href="OpSemProofs.using_relations.html#3be58cfc4942dd09d44df0a37626404b"><span class="id" title="variable">τ0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="OpSemProofs.using_relations.html#S"><span class="id" title="variable">S</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.chain.html#chain_nil"><span class="id" title="constructor">chain_nil</span></a> =&gt; <a class="idref" href="OpSemProofs.chain.html#chain_nil"><span class="id" title="constructor">chain_nil</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">f</span> <a class="idref" href="OpSemProofs.chain.html#1021880247279dc3b4c69f3c19e5eb38"><span class="id" title="notation">:::</span></a> <span class="id" title="var">S'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.chain.html#1021880247279dc3b4c69f3c19e5eb38"><span class="id" title="notation">(</span></a><span class="id" title="var">f</span> <a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a> <a class="idref" href="OpSemProofs.using_relations.html#3be58cfc4942dd09d44df0a37626404b"><span class="id" title="variable">τ0</span></a> : <a class="idref" href="OpSemProofs.using_relations.html#simple_ctx_frame"><span class="id" title="definition">simple_ctx_frame</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="OpSemProofs.chain.html#1021880247279dc3b4c69f3c19e5eb38"><span class="id" title="notation">)</span></a> <a class="idref" href="OpSemProofs.chain.html#1021880247279dc3b4c69f3c19e5eb38"><span class="id" title="notation">:::</span></a> <a class="idref" href="OpSemProofs.using_relations.html#up_simple_ctx'"><span class="id" title="definition">up_simple_ctx'</span></a> <a class="idref" href="OpSemProofs.using_relations.html#3be58cfc4942dd09d44df0a37626404b"><span class="id" title="variable">τ0</span></a> <span class="id" title="var">S'</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="up_simple_ctx"><span class="id" title="instance">up_simple_ctx</span></a> <span class="id" title="var">Γ</span> τ<span class="id" title="var">e</span> τ<span class="id" title="var">o</span> : <a class="idref" href="OpSemProofs.using_relations.html#type"><span class="id" title="class">Lift.type</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">SIMPLE</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.using_relations.html#mk"><span class="id" title="constructor">Lift.mk</span></a> <a class="idref" href="OpSemProofs.using_relations.html#up_simple_ctx'"><span class="id" title="definition">up_simple_ctx'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pure_of_val"><span class="id" title="lemma">pure_of_val</span></a> {τ} (<span class="id" title="var">v</span> : <a class="idref" href="OpSemProofs.syntax.html#val"><span class="id" title="inductive">val</span></a> <a class="idref" href="OpSemProofs.using_relations.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a>) : <a class="idref" href="OpSemProofs.using_relations.html#is_pure"><span class="id" title="definition">is_pure</span></a> <a class="idref" href="OpSemProofs.using_relations.html#v"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span> <span class="id" title="keyword">using</span> <a class="idref" href="OpSemProofs.syntax.html#wt_val_rect"><span class="id" title="lemma">wt_val_rect</span></a>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="single_frame_case_app_l"><span class="id" title="lemma">single_frame_case_app_l</span></a> {<span class="id" title="var">Γ</span> τ<span class="id" title="var">e</span> τ<span class="id" title="var">a</span> τ<span class="id" title="var">o</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ea</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a> <a class="idref" href="OpSemProofs.syntax.html#f3c8ae9482c969ad716aa1d8aebf6f70"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="OpSemProofs.using_relations.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">a</span></a> <a class="idref" href="OpSemProofs.syntax.html#f3c8ae9482c969ad716aa1d8aebf6f70"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.syntax.html#is_val"><span class="id" title="definition">is_val</span></a> <a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">S1</span> := (<a class="idref" href="OpSemProofs.ctxequiv.html#c_app_f"><span class="id" title="constructor">c_app_f</span></a> (τ<span class="id" title="var">r</span> := <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>) <a class="idref" href="OpSemProofs.using_relations.html#ea"><span class="id" title="variable">ea</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;(<a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">EXP</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">λ</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">,</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#S1"><span class="id" title="variable">S1</span></a><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">)⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="OpSemProofs.using_relations.html#var_0"><span class="id" title="definition">var_0</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">≈</span></a> <a class="idref" href="OpSemProofs.using_relations.html#S1"><span class="id" title="variable">S1</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f_val</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.properties_of_relations.html#relate_exprs"><span class="id" title="lemma">relate_exprs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">dep_destruct</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">f_val</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.relations.html#6b159917391e0b22c3d219ed753c075f"><span class="id" title="lemma">by_μe_eq_μEntropy_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.using_relations.html#lam_is_dirac"><span class="id" title="lemma">lam_is_dirac</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.integration.html#meas_id_left"><span class="id" title="lemma">meas_id_left</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.integration.html#meas_bind_assoc"><span class="id" title="axiom">meas_bind_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">integrand_extensionality</span> <span class="id" title="var">va</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">fold_μ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.relations.html#6b159917391e0b22c3d219ed753c075f"><span class="id" title="lemma">by_μe_eq_μEntropy_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.using_relations.html#lam_is_dirac"><span class="id" title="lemma">lam_is_dirac</span></a>, <a class="idref" href="OpSemProofs.relations.html#val_is_dirac"><span class="id" title="lemma">val_is_dirac</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.integration.html#meas_id_left"><span class="id" title="lemma">meas_id_left</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">fold_μ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">asimpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">He0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">asimpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">asimpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="single_frame_case_app_r"><span class="id" title="lemma">single_frame_case_app_r</span></a> {<span class="id" title="var">Γ</span> τ<span class="id" title="var">e</span> τ<span class="id" title="var">a</span> τ<span class="id" title="var">o</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ef</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">a</span></a> <a class="idref" href="OpSemProofs.syntax.html#f3c8ae9482c969ad716aa1d8aebf6f70"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a> <a class="idref" href="OpSemProofs.syntax.html#f3c8ae9482c969ad716aa1d8aebf6f70"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="OpSemProofs.using_relations.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">a</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.syntax.html#is_val"><span class="id" title="definition">is_val</span></a> <a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">S1</span> := <a class="idref" href="OpSemProofs.ctxequiv.html#c_app_a"><span class="id" title="constructor">c_app_a</span></a> <a class="idref" href="OpSemProofs.using_relations.html#ef"><span class="id" title="variable">ef</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;(<a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">EXP</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">λ</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">,</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#S1"><span class="id" title="variable">S1</span></a><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">)⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="OpSemProofs.using_relations.html#var_0"><span class="id" title="definition">var_0</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">≈</span></a> <a class="idref" href="OpSemProofs.using_relations.html#S1"><span class="id" title="variable">S1</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f_val</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.properties_of_relations.html#relate_exprs"><span class="id" title="lemma">relate_exprs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">expr_destruct</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">f_val</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.relations.html#6b159917391e0b22c3d219ed753c075f"><span class="id" title="lemma">by_μe_eq_μEntropy_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.using_relations.html#lam_is_dirac"><span class="id" title="lemma">lam_is_dirac</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.integration.html#meas_id_left"><span class="id" title="lemma">meas_id_left</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="OpSemProofs.integration.html#meas_bind_assoc"><span class="id" title="axiom">meas_bind_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="OpSemProofs.relations.html#2be176f2e0eea699c741e37f67beb394"><span class="id" title="lemma">μ_interchangable</span></a> <span class="id" title="var">e3_1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">integrand_extensionality</span> <span class="id" title="var">va</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">fold_μ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.relations.html#6b159917391e0b22c3d219ed753c075f"><span class="id" title="lemma">by_μe_eq_μEntropy_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.using_relations.html#lam_is_dirac"><span class="id" title="lemma">lam_is_dirac</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.relations.html#val_is_dirac"><span class="id" title="lemma">val_is_dirac</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.integration.html#meas_id_left"><span class="id" title="lemma">meas_id_left</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">fold_μ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">asimpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">He0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">asimpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">asimpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="single_frame_case_factor"><span class="id" title="lemma">single_frame_case_factor</span></a> {<span class="id" title="var">Γ</span> τ<span class="id" title="var">e</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a> <a class="idref" href="OpSemProofs.syntax.html#f3c8ae9482c969ad716aa1d8aebf6f70"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.syntax.html#is_val"><span class="id" title="definition">is_val</span></a> <a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">S1</span> := <a class="idref" href="OpSemProofs.ctxequiv.html#c_factor"><span class="id" title="constructor">c_factor</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;(<a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">EXP</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">λ</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">,</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#S1"><span class="id" title="variable">S1</span></a><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">)⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="OpSemProofs.using_relations.html#var_0"><span class="id" title="definition">var_0</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">≈</span></a> <a class="idref" href="OpSemProofs.using_relations.html#S1"><span class="id" title="variable">S1</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f_val</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.properties_of_relations.html#relate_exprs"><span class="id" title="lemma">relate_exprs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">expr_destruct</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">f_val</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.relations.html#60e7968d930bf9e318f2e2e48a2d66a5"><span class="id" title="lemma">by_μe_eq_μEntropy_factor</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.relations.html#6b159917391e0b22c3d219ed753c075f"><span class="id" title="lemma">by_μe_eq_μEntropy_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.using_relations.html#lam_is_dirac"><span class="id" title="lemma">lam_is_dirac</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.integration.html#meas_id_left"><span class="id" title="lemma">meas_id_left</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.integration.html#meas_bind_assoc"><span class="id" title="axiom">meas_bind_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">integrand_extensionality</span> <span class="id" title="var">va</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">fold_μ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.relations.html#60e7968d930bf9e318f2e2e48a2d66a5"><span class="id" title="lemma">by_μe_eq_μEntropy_factor</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.relations.html#6b159917391e0b22c3d219ed753c075f"><span class="id" title="lemma">by_μe_eq_μEntropy_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.using_relations.html#lam_is_dirac"><span class="id" title="lemma">lam_is_dirac</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.relations.html#val_is_dirac"><span class="id" title="lemma">val_is_dirac</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.integration.html#meas_id_left"><span class="id" title="lemma">meas_id_left</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">fold_μ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">asimpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">He0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">asimpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="single_frame_case_plus_l"><span class="id" title="lemma">single_frame_case_plus_l</span></a> {<span class="id" title="var">Γ</span> τ<span class="id" title="var">e</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">er</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a> <a class="idref" href="OpSemProofs.syntax.html#f3c8ae9482c969ad716aa1d8aebf6f70"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.syntax.html#is_val"><span class="id" title="definition">is_val</span></a> <a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">S1</span> := <a class="idref" href="OpSemProofs.ctxequiv.html#c_plus_l"><span class="id" title="constructor">c_plus_l</span></a> <a class="idref" href="OpSemProofs.using_relations.html#er"><span class="id" title="variable">er</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;(<a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">EXP</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">λ</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">,</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#S1"><span class="id" title="variable">S1</span></a><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">)⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="OpSemProofs.using_relations.html#var_0"><span class="id" title="definition">var_0</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">≈</span></a> <a class="idref" href="OpSemProofs.using_relations.html#S1"><span class="id" title="variable">S1</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f_val</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.properties_of_relations.html#relate_exprs"><span class="id" title="lemma">relate_exprs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">expr_destruct</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">f_val</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.relations.html#3d73e4d0d501299c162b8b474d094411"><span class="id" title="lemma">by_μe_eq_μEntropy_plus</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.relations.html#6b159917391e0b22c3d219ed753c075f"><span class="id" title="lemma">by_μe_eq_μEntropy_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.using_relations.html#lam_is_dirac"><span class="id" title="lemma">lam_is_dirac</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.integration.html#meas_id_left"><span class="id" title="lemma">meas_id_left</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.integration.html#meas_bind_assoc"><span class="id" title="axiom">meas_bind_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">integrand_extensionality</span> <span class="id" title="var">va</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">fold_μ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.relations.html#3d73e4d0d501299c162b8b474d094411"><span class="id" title="lemma">by_μe_eq_μEntropy_plus</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.relations.html#6b159917391e0b22c3d219ed753c075f"><span class="id" title="lemma">by_μe_eq_μEntropy_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.using_relations.html#lam_is_dirac"><span class="id" title="lemma">lam_is_dirac</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.relations.html#val_is_dirac"><span class="id" title="lemma">val_is_dirac</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.integration.html#meas_id_left"><span class="id" title="lemma">meas_id_left</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">fold_μ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">asimpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">He0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">asimpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">asimpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="single_frame_case_plus_r"><span class="id" title="lemma">single_frame_case_plus_r</span></a> {<span class="id" title="var">Γ</span> τ<span class="id" title="var">e</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">el</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a> <a class="idref" href="OpSemProofs.syntax.html#f3c8ae9482c969ad716aa1d8aebf6f70"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.syntax.html#is_val"><span class="id" title="definition">is_val</span></a> <a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">S1</span> := <a class="idref" href="OpSemProofs.ctxequiv.html#c_plus_r"><span class="id" title="constructor">c_plus_r</span></a> <a class="idref" href="OpSemProofs.using_relations.html#el"><span class="id" title="variable">el</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;(<a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">EXP</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">λ</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">,</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#S1"><span class="id" title="variable">S1</span></a><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">)⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="OpSemProofs.using_relations.html#var_0"><span class="id" title="definition">var_0</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">≈</span></a> <a class="idref" href="OpSemProofs.using_relations.html#S1"><span class="id" title="variable">S1</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f_val</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.properties_of_relations.html#relate_exprs"><span class="id" title="lemma">relate_exprs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">expr_destruct</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">f_val</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.relations.html#3d73e4d0d501299c162b8b474d094411"><span class="id" title="lemma">by_μe_eq_μEntropy_plus</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.relations.html#6b159917391e0b22c3d219ed753c075f"><span class="id" title="lemma">by_μe_eq_μEntropy_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.using_relations.html#lam_is_dirac"><span class="id" title="lemma">lam_is_dirac</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.integration.html#meas_id_left"><span class="id" title="lemma">meas_id_left</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="OpSemProofs.integration.html#meas_bind_assoc"><span class="id" title="axiom">meas_bind_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="OpSemProofs.relations.html#2be176f2e0eea699c741e37f67beb394"><span class="id" title="lemma">μ_interchangable</span></a> <span class="id" title="var">e3_1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">integrand_extensionality</span> <span class="id" title="var">va</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">fold_μ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.relations.html#3d73e4d0d501299c162b8b474d094411"><span class="id" title="lemma">by_μe_eq_μEntropy_plus</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.relations.html#6b159917391e0b22c3d219ed753c075f"><span class="id" title="lemma">by_μe_eq_μEntropy_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.using_relations.html#lam_is_dirac"><span class="id" title="lemma">lam_is_dirac</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.relations.html#val_is_dirac"><span class="id" title="lemma">val_is_dirac</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.integration.html#meas_id_left"><span class="id" title="lemma">meas_id_left</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">fold_μ</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">asimpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">He0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">asimpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">asimpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="erase_plug"><span class="id" title="lemma">erase_plug</span></a> {<span class="id" title="var">Γo</span> <span class="id" title="var">Γi</span> τ<span class="id" title="var">i</span> τ<span class="id" title="var">o</span>} (<span class="id" title="var">C</span> : (<a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">CTX</span></a> <a class="idref" href="OpSemProofs.using_relations.html#fc68c553740324099788cba09632d1f9"><span class="id" title="variable">Γo</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.using_relations.html#f9081aef22a9f803dd4d65c7276a36dc"><span class="id" title="variable">Γi</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">i</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>)) <span class="id" title="var">e</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.syntax.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="OpSemProofs.using_relations.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#erase_ctx"><span class="id" title="definition">erase_ctx</span></a> <a class="idref" href="OpSemProofs.using_relations.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">)⟨</span></a><a class="idref" href="OpSemProofs.syntax.html#erase"><span class="id" title="definition">erase</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">C</span> <span class="id" title="keyword">using</span> <a class="idref" href="OpSemProofs.chain.html#bichain_rect"><span class="id" title="lemma">bichain_rect</span></a>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.ctxequiv.html#plug_cons"><span class="id" title="lemma">plug_cons</span></a>, <a class="idref" href="OpSemProofs.ctxequiv.html#erase_cons"><span class="id" title="lemma">erase_cons</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="OpSemProofs.syntax.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">x</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><span class="id" title="var">C</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><span class="id" title="var">e</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩⟩</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#erase_ctx_frame"><span class="id" title="definition">erase_ctx_frame</span></a> <span class="id" title="var">x</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">)⟨(</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#erase_ctx"><span class="id" title="definition">erase_ctx</span></a> <span class="id" title="var">C</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">)⟨</span></a><a class="idref" href="OpSemProofs.syntax.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">e</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩⟩</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="erase_up_simple_ctx"><span class="id" title="lemma">erase_up_simple_ctx</span></a> {<span class="id" title="var">Γ</span> τ<span class="id" title="var">o</span> τ<span class="id" title="var">i</span>} (<span class="id" title="var">S</span> : <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">SIMPLE</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">i</span></a><a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.ctxequiv.html#erase_ctx"><span class="id" title="definition">erase_ctx</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#unsimple"><span class="id" title="definition">unsimple</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a><a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.using_relations.html#4050e36d999608810a0c5caab3c4684b"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#erase_ctx"><span class="id" title="definition">erase_ctx</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#unsimple"><span class="id" title="definition">unsimple</span></a> <a class="idref" href="OpSemProofs.using_relations.html#S"><span class="id" title="variable">S</span></a>)<a class="idref" href="OpSemProofs.using_relations.html#4050e36d999608810a0c5caab3c4684b"><span class="id" title="notation">)↑</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">S</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">unsimple</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.using_relations.html#unsimple_cons"><span class="id" title="lemma">unsimple_cons</span></a>, !<a class="idref" href="OpSemProofs.ctxequiv.html#erase_cons"><span class="id" title="lemma">erase_cons</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">unsimple</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">using</span> <a class="idref" href="OpSemProofs.using_relations.html#simple_ctx_frame_rect"><span class="id" title="lemma">simple_ctx_frame_rect</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">He0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">rename_subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="is_u_simple"><span class="id" title="definition">is_u_simple</span></a> (<span class="id" title="var">u</span> : <a class="idref" href="OpSemProofs.ctxequiv.html#u_ctx"><span class="id" title="definition">u_ctx</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="OpSemProofs.using_relations.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">nil</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#uc_lam"><span class="id" title="constructor">uc_lam</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">u'</span> =&gt; <a class="idref" href="OpSemProofs.using_relations.html#is_u_simple"><span class="id" title="definition">is_u_simple</span></a> <span class="id" title="var">u'</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="rename_simple_u_plug"><span class="id" title="lemma">rename_simple_u_plug</span></a> (<span class="id" title="var">U</span> : <a class="idref" href="OpSemProofs.ctxequiv.html#u_ctx"><span class="id" title="definition">u_ctx</span></a>) (<span class="id" title="var">u</span> : <a class="idref" href="OpSemProofs.syntax.html#u_expr"><span class="id" title="inductive">u_expr</span></a>) σ :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.using_relations.html#is_u_simple"><span class="id" title="definition">is_u_simple</span></a> <a class="idref" href="OpSemProofs.using_relations.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">rename</span> <a class="idref" href="OpSemProofs.using_relations.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#U"><span class="id" title="variable">U</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#u"><span class="id" title="variable">u</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">(</span></a><span class="id" title="definition">rename</span> <a class="idref" href="OpSemProofs.using_relations.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#U"><span class="id" title="variable">U</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">)⟨</span></a><span class="id" title="definition">rename</span> <a class="idref" href="OpSemProofs.using_relations.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#u"><span class="id" title="variable">u</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">U_simp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">U</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="OpSemProofs.ctxequiv.html#Plug.plug"><span class="id" title="method">Plug.plug</span></a> <span class="id" title="tactic">at</span> 2 <span class="id" title="keyword">in</span> <span class="id" title="var">IHU</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span> <span class="id" title="var">U_simp</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHU</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="rename_u_simple"><span class="id" title="lemma">rename_u_simple</span></a> (<span class="id" title="var">U</span> : <a class="idref" href="OpSemProofs.ctxequiv.html#u_ctx"><span class="id" title="definition">u_ctx</span></a>) σ :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.using_relations.html#is_u_simple"><span class="id" title="definition">is_u_simple</span></a> <a class="idref" href="OpSemProofs.using_relations.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.using_relations.html#is_u_simple"><span class="id" title="definition">is_u_simple</span></a> (<span class="id" title="definition">rename</span> <a class="idref" href="OpSemProofs.using_relations.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#U"><span class="id" title="variable">U</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">U</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="plug_app"><span class="id" title="lemma">plug_app</span></a> {<span class="id" title="var">Γ</span> τ<span class="id" title="var">o</span> τ<span class="id" title="var">m</span> τ<span class="id" title="var">i</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Co</span> : (<a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">SIMPLE</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.using_relations.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">m</span></a><a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Ci</span> : (<a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">SIMPLE</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">i</span></a><a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">m</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="OpSemProofs.using_relations.html#Co"><span class="id" title="variable">Co</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#Ci"><span class="id" title="variable">Ci</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩⟩</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#Co"><span class="id" title="variable">Co</span></a> <a class="idref" href="OpSemProofs.chain.html#91e656735222bde846d497c947f59127"><span class="id" title="notation">+++</span></a> <a class="idref" href="OpSemProofs.using_relations.html#Ci"><span class="id" title="variable">Ci</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">)⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Co</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">p</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><span class="id" title="var">Co</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><span class="id" title="var">Ci</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><span class="id" title="var">e</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩⟩⟩</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">p</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨(</span></a><span class="id" title="var">Co</span> <a class="idref" href="OpSemProofs.chain.html#91e656735222bde846d497c947f59127"><span class="id" title="notation">+++</span></a> <span class="id" title="var">Ci</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">)⟨</span></a><span class="id" title="var">e</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩⟩</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHCo</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="up_cons"><span class="id" title="lemma">up_cons</span></a> {<span class="id" title="var">Γ</span> τ<span class="id" title="var">i</span> τ<span class="id" title="var">m</span> τ<span class="id" title="var">o</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.using_relations.html#simple_ctx_frame"><span class="id" title="definition">simple_ctx_frame</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a> <a class="idref" href="OpSemProofs.using_relations.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">S</span> : (<a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">SIMPLE</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">i</span></a><a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">m</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;τ0 :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.chain.html#1021880247279dc3b4c69f3c19e5eb38"><span class="id" title="notation">:::</span></a> <a class="idref" href="OpSemProofs.using_relations.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">)^</span></a><a class="idref" href="OpSemProofs.using_relations.html#3be58cfc4942dd09d44df0a37626404b"><span class="id" title="variable">τ0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.chain.html#1021880247279dc3b4c69f3c19e5eb38"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a><a class="idref" href="OpSemProofs.using_relations.html#3be58cfc4942dd09d44df0a37626404b"><span class="id" title="variable">τ0</span></a><a class="idref" href="OpSemProofs.chain.html#1021880247279dc3b4c69f3c19e5eb38"><span class="id" title="notation">)</span></a> <a class="idref" href="OpSemProofs.chain.html#1021880247279dc3b4c69f3c19e5eb38"><span class="id" title="notation">:::</span></a> <a class="idref" href="OpSemProofs.chain.html#1021880247279dc3b4c69f3c19e5eb38"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a><a class="idref" href="OpSemProofs.using_relations.html#3be58cfc4942dd09d44df0a37626404b"><span class="id" title="variable">τ0</span></a><a class="idref" href="OpSemProofs.chain.html#1021880247279dc3b4c69f3c19e5eb38"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="up_app"><span class="id" title="lemma">up_app</span></a> {<span class="id" title="var">Γ</span> τ<span class="id" title="var">i</span> τ<span class="id" title="var">m</span> τ<span class="id" title="var">o</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Co</span> : (<a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">SIMPLE</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.using_relations.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">m</span></a><a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Ci</span> : (<a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">SIMPLE</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">i</span></a><a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">m</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;τ0 :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#Co"><span class="id" title="variable">Co</span></a> <a class="idref" href="OpSemProofs.chain.html#91e656735222bde846d497c947f59127"><span class="id" title="notation">+++</span></a> <a class="idref" href="OpSemProofs.using_relations.html#Ci"><span class="id" title="variable">Ci</span></a><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">)^</span></a><a class="idref" href="OpSemProofs.using_relations.html#3be58cfc4942dd09d44df0a37626404b"><span class="id" title="variable">τ0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.chain.html#91e656735222bde846d497c947f59127"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#Co"><span class="id" title="variable">Co</span></a><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a><a class="idref" href="OpSemProofs.using_relations.html#3be58cfc4942dd09d44df0a37626404b"><span class="id" title="variable">τ0</span></a><a class="idref" href="OpSemProofs.chain.html#91e656735222bde846d497c947f59127"><span class="id" title="notation">)</span></a> <a class="idref" href="OpSemProofs.chain.html#91e656735222bde846d497c947f59127"><span class="id" title="notation">+++</span></a> <a class="idref" href="OpSemProofs.chain.html#91e656735222bde846d497c947f59127"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#Ci"><span class="id" title="variable">Ci</span></a><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a><a class="idref" href="OpSemProofs.using_relations.html#3be58cfc4942dd09d44df0a37626404b"><span class="id" title="variable">τ0</span></a><a class="idref" href="OpSemProofs.chain.html#91e656735222bde846d497c947f59127"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Co</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHCo</span> <span class="id" title="var">Ci</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<span class="id" title="var">chain_app</span> <span class="id" title="var">up_simple_ctx'</span> <span class="id" title="var">eq_rect</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHCo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="simple_cons_plug"><span class="id" title="lemma">simple_cons_plug</span></a> {<span class="id" title="var">Γ</span> τ<span class="id" title="var">i</span> τ<span class="id" title="var">m</span> τ<span class="id" title="var">o</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.using_relations.html#simple_ctx_frame"><span class="id" title="definition">simple_ctx_frame</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a> <a class="idref" href="OpSemProofs.using_relations.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">S</span> : (<a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">SIMPLE</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">i</span></a><a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">m</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">i</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.chain.html#1021880247279dc3b4c69f3c19e5eb38"><span class="id" title="notation">:::</span></a> <a class="idref" href="OpSemProofs.using_relations.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">)⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.using_relations.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩⟩</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="erase_simple"><span class="id" title="lemma">erase_simple</span></a> {<span class="id" title="var">Γ</span> τ<span class="id" title="var">o</span> τ<span class="id" title="var">i</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">S</span> : <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">SIMPLE</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a><a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="OpSemProofs.using_relations.html#is_u_simple"><span class="id" title="definition">is_u_simple</span></a> (<a class="idref" href="OpSemProofs.ctxequiv.html#erase_ctx"><span class="id" title="definition">erase_ctx</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#unsimple"><span class="id" title="definition">unsimple</span></a> <a class="idref" href="OpSemProofs.using_relations.html#S"><span class="id" title="variable">S</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">S</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="OpSemProofs.using_relations.html#is_u_simple"><span class="id" title="definition">is_u_simple</span></a> (<a class="idref" href="OpSemProofs.ctxequiv.html#erase_ctx"><span class="id" title="definition">erase_ctx</span></a> (<span class="id" title="var">p</span> <a class="idref" href="OpSemProofs.chain.html#5be159d7812e0ee1400ff6c822eafcc6"><span class="id" title="notation">::::</span></a> <a class="idref" href="OpSemProofs.using_relations.html#unsimple"><span class="id" title="definition">unsimple</span></a> <span class="id" title="var">S</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.ctxequiv.html#erase_cons"><span class="id" title="lemma">erase_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">using</span> <a class="idref" href="OpSemProofs.using_relations.html#simple_ctx_frame_rect"><span class="id" title="lemma">simple_ctx_frame_rect</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;theorem&nbsp;24&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="subst_into_simple"><span class="id" title="lemma">subst_into_simple</span></a> {<span class="id" title="var">Γ</span> τ<span class="id" title="var">e</span> τ<span class="id" title="var">o</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">S</span> : <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">SIMPLE</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c0c02c16b8cafc352446e8cb260afc62"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a>) :<br/>
&nbsp;&nbsp;(<a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">EXP</span></a> <a class="idref" href="OpSemProofs.using_relations.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">λ</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">,</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#edcfdf7ed3a984428ca482eb69d8ca3b"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">)⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#var_0"><span class="id" title="definition">var_0</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">≈</span></a> <a class="idref" href="OpSemProofs.using_relations.html#S"><span class="id" title="variable">S</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.using_relations.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">S</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.using_relations.html#apply_id_equiv"><span class="id" title="lemma">apply_id_equiv</span></a>.<br/>
&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="OpSemProofs.using_relations.html#simple_ctx_frame"><span class="id" title="definition">simple_ctx_frame</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="OpSemProofs.using_relations.html#simple_ctx"><span class="id" title="definition">simple_ctx</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">A</span> <span class="id" title="var">into</span> τ<span class="id" title="var">o</span>, <span class="id" title="var">B</span> <span class="id" title="var">into</span> τ<span class="id" title="var">m</span>, <span class="id" title="var">C</span> <span class="id" title="var">into</span> τ<span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">λ</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">,</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a>τ<span class="id" title="var">i</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">)⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">λ</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">,</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">(</span></a><span class="id" title="var">S</span><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a>τ<span class="id" title="var">i</span><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">)^</span></a>τ<span class="id" title="var">i</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">)⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#var_0"><span class="id" title="definition">var_0</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <a class="idref" href="OpSemProofs.using_relations.html#var_0"><span class="id" title="definition">var_0</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <span class="id" title="var">e</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;"by&nbsp;theorem&nbsp;22"&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="OpSemProofs.relations.html#compat_app"><span class="id" title="lemma">compat_app</span></a>; [| <span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.relations.html#compat_lam"><span class="id" title="lemma">compat_lam</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="OpSemProofs.using_relations.html#beta_value"><span class="id" title="lemma">beta_value</span></a> (<a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">(</span></a><span class="id" title="var">S</span><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a>τ<span class="id" title="var">i</span><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">)^</span></a>τ<span class="id" title="var">i</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">)⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#var_0"><span class="id" title="definition">var_0</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a>) <a class="idref" href="OpSemProofs.using_relations.html#var_0"><span class="id" title="definition">var_0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="OpSemProofs.using_relations.html#up_cons"><span class="id" title="lemma">up_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="OpSemProofs.using_relations.html#simple_cons_plug"><span class="id" title="lemma">simple_cons_plug</span></a> (<span class="id" title="var">p</span><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a>τ<span class="id" title="var">i</span>) (<span class="id" title="var">S</span><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a>τ<span class="id" title="var">i</span>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="OpSemProofs.ctxequiv.html#compat_plug1"><span class="id" title="lemma">compat_plug1</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="OpSemProofs.using_relations.html#open_subst1"><span class="id" title="definition">open_subst1</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">(</span></a><span class="id" title="var">S</span><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a>τ<span class="id" title="var">i</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">)⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#var_0"><span class="id" title="definition">var_0</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">x</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.syntax.html#erase_injective"><span class="id" title="lemma">erase_injective</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="OpSemProofs.using_relations.html#erase_plug"><span class="id" title="lemma">erase_plug</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="OpSemProofs.syntax.html#u_var"><span class="id" title="constructor">u_var</span></a> 0 <span class="id" title="notation">.:</span> <span class="id" title="definition">ids</span>) <span class="id" title="keyword">with</span> (<span class="id" title="definition">ren</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano.html#pred"><span class="id" title="abbreviation">pred</span></a>); <span class="id" title="var">swap</span> 1 2. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="method">rename_subst</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.using_relations.html#rename_simple_u_plug"><span class="id" title="lemma">rename_simple_u_plug</span></a>; [| <span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.using_relations.html#erase_simple"><span class="id" title="lemma">erase_simple</span></a>]. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="OpSemProofs.ctxequiv.html#erase_ctx"><span class="id" title="definition">erase_ctx</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#unsimple"><span class="id" title="definition">unsimple</span></a> (<span class="id" title="var">S</span><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a>τ<span class="id" title="var">i</span>)) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">rename</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano.html#pred"><span class="id" title="abbreviation">pred</span></a> (<a class="idref" href="OpSemProofs.ctxequiv.html#erase_ctx"><span class="id" title="definition">erase_ctx</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#unsimple"><span class="id" title="definition">unsimple</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">(</span></a><span class="id" title="var">S</span><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a>τ<span class="id" title="var">i</span><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">)^</span></a>τ<span class="id" title="var">i</span>)))).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">forall</span> <span class="id" title="var">e</span> : <a class="idref" href="OpSemProofs.syntax.html#u_expr"><span class="id" title="inductive">u_expr</span></a>, <span class="id" title="definition">rename</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano.html#pred"><span class="id" title="abbreviation">pred</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.using_relations.html#4050e36d999608810a0c5caab3c4684b"><span class="id" title="notation">↑</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">asimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="definition">ren</span> (<span class="id" title="notation">(+</span>1<span class="id" title="notation">)</span> <span class="id" title="notation">&gt;&gt;&gt;</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano.html#pred"><span class="id" title="abbreviation">pred</span></a>)) <span class="id" title="keyword">with</span> <span class="id" title="definition">ids</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">autosubst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">S</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="OpSemProofs.using_relations.html#up_cons"><span class="id" title="lemma">up_cons</span></a> <span class="id" title="var">p</span> <span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="OpSemProofs.using_relations.html#up_cons"><span class="id" title="lemma">up_cons</span></a> (<span class="id" title="var">p</span><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a><span class="id" title="var">C</span>) (<span class="id" title="var">S</span><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a><span class="id" title="var">C</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<span class="id" title="var">unsimple</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.ctxequiv.html#erase_cons"><span class="id" title="lemma">erase_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">lift1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">p</span> <span class="id" title="keyword">using</span> <a class="idref" href="OpSemProofs.using_relations.html#simple_ctx_frame_rect"><span class="id" title="lemma">simple_ctx_frame_rect</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">elim_sig_exprs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">He1</span>, ?<span class="id" title="var">He0</span>, ?<span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">autosubst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<span class="id" title="var">p</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">λ</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">,</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">(</span></a><span class="id" title="var">S</span><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a>τ<span class="id" title="var">i</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">)⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#var_0"><span class="id" title="definition">var_0</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a><a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">)</span></a> <a class="idref" href="OpSemProofs.using_relations.html#c08910e202733241c0ff38b25be5a0c9"><span class="id" title="notation">@</span></a> <span class="id" title="var">e</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">f</span> := <a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">λ</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">,</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">(</span></a><span class="id" title="var">S</span><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a>τ<span class="id" title="var">i</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">)⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#var_0"><span class="id" title="definition">var_0</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">λ</span></a><a class="idref" href="OpSemProofs.using_relations.html#65d9010c5ccaf056398b75f39e23bc42"><span class="id" title="notation">,</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">(</span></a><span class="id" title="var">S</span><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a>τ<span class="id" title="var">i</span><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">)^</span></a>τ<span class="id" title="var">i</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">)⟨</span></a><a class="idref" href="OpSemProofs.using_relations.html#var_0"><span class="id" title="definition">var_0</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span><a class="idref" href="OpSemProofs.using_relations.html#1acad0ad77adcbcdf68a70ab21aafe4a"><span class="id" title="notation">^</span></a>τ<span class="id" title="var">i</span>); <span class="id" title="var">swap</span> 1 2. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.syntax.html#erase_injective"><span class="id" title="lemma">erase_injective</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="OpSemProofs.using_relations.html#erase_plug"><span class="id" title="lemma">erase_plug</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">e</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="OpSemProofs.using_relations.html#erase_plug"><span class="id" title="lemma">erase_plug</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="method">rename_subst</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.using_relations.html#rename_simple_u_plug"><span class="id" title="lemma">rename_simple_u_plug</span></a>; <span class="id" title="var">revgoals</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.using_relations.html#erase_simple"><span class="id" title="lemma">erase_simple</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="OpSemProofs.using_relations.html#erase_up_simple_ctx"><span class="id" title="lemma">erase_up_simple_ctx</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="OpSemProofs.ctxequiv.html#erase_ctx"><span class="id" title="definition">erase_ctx</span></a> (<a class="idref" href="OpSemProofs.using_relations.html#unsimple"><span class="id" title="definition">unsimple</span></a> <span class="id" title="var">S</span>)); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">forall</span> <span class="id" title="var">e</span> : <a class="idref" href="OpSemProofs.syntax.html#u_expr"><span class="id" title="inductive">u_expr</span></a>, <span class="id" title="definition">rename</span> (0 <span class="id" title="notation">.:</span> <span class="id" title="notation">(+</span>2<span class="id" title="notation">)</span>) (<a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.using_relations.html#4050e36d999608810a0c5caab3c4684b"><span class="id" title="notation">↑</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.using_relations.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.using_relations.html#4050e36d999608810a0c5caab3c4684b"><span class="id" title="notation">↑↑</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">intros</span>; <span class="id" title="var">autosubst</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">IHu</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="OpSemProofs.syntax.html#is_val"><span class="id" title="definition">is_val</span></a> <span class="id" title="var">f</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">f</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="OpSemProofs.using_relations.html#simple_ctx_frame"><span class="id" title="definition">simple_ctx_frame</span></a> <span class="id" title="var">Γ</span> τ<span class="id" title="var">o</span> τ<span class="id" title="var">m</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">p</span> <span class="id" title="keyword">using</span> <a class="idref" href="OpSemProofs.using_relations.html#simple_ctx_frame_rect"><span class="id" title="lemma">simple_ctx_frame_rect</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.using_relations.html#single_frame_case_app_l"><span class="id" title="lemma">single_frame_case_app_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.using_relations.html#single_frame_case_app_r"><span class="id" title="lemma">single_frame_case_app_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.using_relations.html#single_frame_case_factor"><span class="id" title="lemma">single_frame_case_factor</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.using_relations.html#single_frame_case_plus_l"><span class="id" title="lemma">single_frame_case_plus_l</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.using_relations.html#single_frame_case_plus_r"><span class="id" title="lemma">single_frame_case_plus_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> [<span class="id" title="var">Plug.plug</span> <span class="id" title="var">simple_plug</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.using_relations.html#unsimple_cons"><span class="id" title="lemma">unsimple_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.ctxequiv.html#plug_cons"><span class="id" title="lemma">plug_cons</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.ctxequiv.html#compat_plug1"><span class="id" title="lemma">compat_plug1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHS</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Print</span> <span class="id" title="keyword">Assumptions</span> <a class="idref" href="OpSemProofs.using_relations.html#subst_into_simple"><span class="id" title="lemma">subst_into_simple</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
