<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">OpSemProofs.ctxequiv</h1>

<div class="code">
</div>

<div class="doc">
In this file, we define contexts, contextual equivalence, and show that the
    logical relation <span class="inlinecode"><a class="idref" href="OpSemProofs.relations.html#related_exprs"><span class="id" title="definition">related_exprs</span></a></span> is sound with respect to contextual
    equivalence. 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpSemProofs.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpSemProofs.syntax.html#"><span class="id" title="library">syntax</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpSemProofs.relations.html#"><span class="id" title="library">relations</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpSemProofs.properties_of_relations.html#"><span class="id" title="library">properties_of_relations</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.micromega.Lia.html#"><span class="id" title="library">micromega.Lia</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="OpSemProofs.chain.html#"><span class="id" title="library">chain</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab25"></a><h1 class="section">Contexts</h1>


<div class="paragraph"> </div>

    A context is a <span class="inlinecode"><a class="idref" href="OpSemProofs.chain.html#chain"><span class="id" title="inductive">chain</span></a></span> of context frames.

<div class="paragraph"> </div>

    The notations below for types of frames and contexts should be thought of as
    "contexts take terms sitting in a hole typed `Γh ⊢ τh` and translate them to
    sit at type `Γo ⊢ τo`". The outermost chain_cons is the outermost context
    frame here. 
</div>
<div class="code">
<span class="id" title="keyword">Reserved Notation</span> &quot;'FRAME' Γo ⊢ [ Γh ⊢ τh ] : τo"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="var">Γo</span>, <span class="id" title="var">Γh</span>, τ<span class="id" title="var">h</span>, τ<span class="id" title="var">o</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 200, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot;'CTX' Γo ⊢ [ Γh ⊢ τh ] : τo"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="var">Γo</span>, <span class="id" title="var">Γh</span>, τ<span class="id" title="var">h</span>, τ<span class="id" title="var">o</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 200, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="ctx_frame"><span class="id" title="inductive">ctx_frame</span></a> : <a class="idref" href="OpSemProofs.syntax.html#Env"><span class="id" title="definition">Env</span></a> <a class="idref" href="OpSemProofs.syntax.html#Ty"><span class="id" title="inductive">Ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.syntax.html#Ty"><span class="id" title="inductive">Ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.syntax.html#Env"><span class="id" title="definition">Env</span></a> <a class="idref" href="OpSemProofs.syntax.html#Ty"><span class="id" title="inductive">Ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.syntax.html#Ty"><span class="id" title="inductive">Ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span> :=<br/>
| <a name="c_app_f"><span class="id" title="constructor">c_app_f</span></a> {<span class="id" title="var">Γ</span> τ<span class="id" title="var">a</span> τ<span class="id" title="var">r</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">FRAME</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">a</span></a> <a class="idref" href="OpSemProofs.syntax.html#f3c8ae9482c969ad716aa1d8aebf6f70"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">r</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a><br/>
| <a name="c_app_a"><span class="id" title="constructor">c_app_a</span></a> {<span class="id" title="var">Γ</span> τ<span class="id" title="var">a</span> τ<span class="id" title="var">r</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="OpSemProofs.ctxequiv.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">a</span></a> <a class="idref" href="OpSemProofs.syntax.html#f3c8ae9482c969ad716aa1d8aebf6f70"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">FRAME</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">a</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a><br/>
| <a name="c_factor"><span class="id" title="constructor">c_factor</span></a> {<span class="id" title="var">Γ</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">FRAME</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a>)<br/>
| <a name="c_plus_l"><span class="id" title="constructor">c_plus_l</span></a> {<span class="id" title="var">Γ</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">FRAME</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a><br/>
| <a name="c_plus_r"><span class="id" title="constructor">c_plus_r</span></a> {<span class="id" title="var">Γ</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">FRAME</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a><br/>
| <a name="c_lam"><span class="id" title="constructor">c_lam</span></a> {<span class="id" title="var">Γ</span> τ<span class="id" title="var">a</span> τ<span class="id" title="var">r</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">FRAME</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">r</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#141c4ea6ed0b74a85226f7b4d36d7c15"><span class="id" title="variable">a</span></a> <a class="idref" href="OpSemProofs.syntax.html#f3c8ae9482c969ad716aa1d8aebf6f70"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#e583c42152bf3c7fa283a25e1a1c4f0b"><span class="id" title="variable">r</span></a>)<br/>
<span class="id" title="keyword">where</span> <a name="91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">&quot;</span></a>'FRAME' Γo ⊢ [ Γh ⊢ τh ] : τo" := (<a class="idref" href="OpSemProofs.ctxequiv.html#ctx_frame"><span class="id" title="inductive">ctx_frame</span></a> <span class="id" title="var">Γo</span> τ<span class="id" title="var">o</span> <span class="id" title="var">Γh</span> τ<span class="id" title="var">h</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="ctx"><span class="id" title="definition">ctx</span></a> := <a class="idref" href="OpSemProofs.chain.html#bichain"><span class="id" title="definition">bichain</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#ctx_frame"><span class="id" title="inductive">ctx_frame</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a name="1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">&quot;</span></a>'CTX' Γo ⊢ [ Γh ⊢ τh ] : τo" := (<a class="idref" href="OpSemProofs.ctxequiv.html#ctx"><span class="id" title="definition">ctx</span></a> <span class="id" title="var">Γo</span> τ<span class="id" title="var">o</span> <span class="id" title="var">Γh</span> τ<span class="id" title="var">h</span>).<br/>
<span class="id" title="keyword">Definition</span> <a name="c_hole"><span class="id" title="definition">c_hole</span></a> {<span class="id" title="var">Γ</span> τ} : (<a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">CTX</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a>) := <a class="idref" href="OpSemProofs.chain.html#chain_nil"><span class="id" title="constructor">chain_nil</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;As&nbsp;before&nbsp;with&nbsp;expr,&nbsp;we&nbsp;define&nbsp;a&nbsp;(mostly)&nbsp;erased&nbsp;version&nbsp;of&nbsp;contexts&nbsp;and&nbsp;an<br/>
&nbsp;&nbsp;&nbsp;injective&nbsp;erasure&nbsp;function&nbsp;from&nbsp;the&nbsp;fully&nbsp;typed&nbsp;context.&nbsp;*)</span><br/>
<span class="id" title="keyword">Inductive</span> <a name="u_ctx_frame"><span class="id" title="inductive">u_ctx_frame</span></a> :=<br/>
| <a name="uc_app_f"><span class="id" title="constructor">uc_app_f</span></a> (<span class="id" title="var">ua</span> : <a class="idref" href="OpSemProofs.syntax.html#u_expr"><span class="id" title="inductive">u_expr</span></a>)<br/>
| <a name="uc_app_a"><span class="id" title="constructor">uc_app_a</span></a> (<span class="id" title="var">uf</span> : <a class="idref" href="OpSemProofs.syntax.html#u_expr"><span class="id" title="inductive">u_expr</span></a>)<br/>
| <a name="uc_factor"><span class="id" title="constructor">uc_factor</span></a><br/>
| <a name="uc_plus_l"><span class="id" title="constructor">uc_plus_l</span></a> (<span class="id" title="var">ur</span> : <a class="idref" href="OpSemProofs.syntax.html#u_expr"><span class="id" title="inductive">u_expr</span></a>)<br/>
| <a name="uc_plus_r"><span class="id" title="constructor">uc_plus_r</span></a> (<span class="id" title="var">ul</span> : <a class="idref" href="OpSemProofs.syntax.html#u_expr"><span class="id" title="inductive">u_expr</span></a>)<br/>
| <a name="uc_lam"><span class="id" title="constructor">uc_lam</span></a> (τ<span class="id" title="var">a</span> : <a class="idref" href="OpSemProofs.syntax.html#Ty"><span class="id" title="inductive">Ty</span></a>)<br/>
.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="u_ctx"><span class="id" title="definition">u_ctx</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#u_ctx_frame"><span class="id" title="inductive">u_ctx_frame</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="uc_hole"><span class="id" title="definition">uc_hole</span></a> : <a class="idref" href="OpSemProofs.ctxequiv.html#u_ctx"><span class="id" title="definition">u_ctx</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="keyword">Typeclasses</span> <span class="id" title="var">Unique</span> <span class="id" title="var">Instances</span>.<br/>

<br/>
</div>

<div class="doc">
We can't instantiate all of autosubst's machinery for contexts, since they
    can't be variables, but we can at least define renaming. We could define
    substitution too, but the need for it hasn't come up yet. 
</div>
<div class="code">
<span class="id" title="keyword">Instance</span> <a name="Rename_u_ctx_frame"><span class="id" title="instance">Rename_u_ctx_frame</span></a> : <span class="id" title="class">Rename</span> <a class="idref" href="OpSemProofs.ctxequiv.html#u_ctx_frame"><span class="id" title="inductive">u_ctx_frame</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> σ <span class="id" title="var">f</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="OpSemProofs.ctxequiv.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#uc_app_f"><span class="id" title="constructor">uc_app_f</span></a> <span class="id" title="var">ea</span> =&gt; <a class="idref" href="OpSemProofs.ctxequiv.html#uc_app_f"><span class="id" title="constructor">uc_app_f</span></a> (<span class="id" title="definition">rename</span> <a class="idref" href="OpSemProofs.ctxequiv.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <span class="id" title="var">ea</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#uc_app_a"><span class="id" title="constructor">uc_app_a</span></a> <span class="id" title="var">ef</span> =&gt; <a class="idref" href="OpSemProofs.ctxequiv.html#uc_app_a"><span class="id" title="constructor">uc_app_a</span></a> (<span class="id" title="definition">rename</span> <a class="idref" href="OpSemProofs.ctxequiv.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <span class="id" title="var">ef</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#uc_factor"><span class="id" title="constructor">uc_factor</span></a> =&gt; <a class="idref" href="OpSemProofs.ctxequiv.html#uc_factor"><span class="id" title="constructor">uc_factor</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#uc_plus_l"><span class="id" title="constructor">uc_plus_l</span></a> <span class="id" title="var">er</span> =&gt; <a class="idref" href="OpSemProofs.ctxequiv.html#uc_plus_l"><span class="id" title="constructor">uc_plus_l</span></a> (<span class="id" title="definition">rename</span> <a class="idref" href="OpSemProofs.ctxequiv.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <span class="id" title="var">er</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#uc_plus_r"><span class="id" title="constructor">uc_plus_r</span></a> <span class="id" title="var">el</span> =&gt; <a class="idref" href="OpSemProofs.ctxequiv.html#uc_plus_r"><span class="id" title="constructor">uc_plus_r</span></a> (<span class="id" title="definition">rename</span> <a class="idref" href="OpSemProofs.ctxequiv.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <span class="id" title="var">el</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#uc_lam"><span class="id" title="constructor">uc_lam</span></a> τ<span class="id" title="var">a</span> =&gt; <a class="idref" href="OpSemProofs.ctxequiv.html#uc_lam"><span class="id" title="constructor">uc_lam</span></a> τ<span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="Rename_u_ctx"><span class="id" title="instance">Rename_u_ctx</span></a> : <span class="id" title="class">Rename</span> <a class="idref" href="OpSemProofs.ctxequiv.html#u_ctx"><span class="id" title="definition">u_ctx</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fix</span> <span class="id" title="var">Rename_u_ctx</span> σ <span class="id" title="var">U</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="OpSemProofs.ctxequiv.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">U'</span> =&gt; <span class="id" title="definition">rename</span> <a class="idref" href="OpSemProofs.ctxequiv.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#Rename_u_ctx"><span class="id" title="variable">Rename_u_ctx</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <span class="id" title="var">U'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab26"></a><h2 class="section">The <span class="inlinecode"><a class="idref" href="OpSemProofs.ctxequiv.html#Plug.Plug"><span class="id" title="record">Plug</span></a></span> typeclass</h2>
 <span class="inlinecode"><a class="idref" href="OpSemProofs.ctxequiv.html#Plug.Plug"><span class="id" title="record">Plug</span></a></span> should be thought of as a typeclass for plugging something into a
    context-like object using the syntax "<span class="inlinecode"><a class="idref" href="OpSemProofs.utils.html#C"><span class="id" title="variable">C</span></a>⟨<a class="idref" href="OpSemProofs.integration.html#e"><span class="id" title="variable">e</span></a>⟩</span>". The machinery needed to do
    this is slightly more convoluted than it would be in Haskell. 
<div class="paragraph"> </div>

 Things we want to be able to plug (both for typed and untyped):
<ul class="doclist">
<li> expressions into context frames

</li>
<li> expressions into contexts

</li>
<li> contexts into context

</li>
</ul>
  It would be possible to define even more combinations with frames, but they
    aren't yet needed. 
</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a name="Plug"><span class="id" title="module">Plug</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a name="Plug.Plug"><span class="id" title="record">Plug</span></a> <span class="id" title="var">obj</span> <span class="id" title="var">hole</span> <span class="id" title="var">res</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="Plug.mk"><span class="id" title="constructor">mk</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="Plug.plug"><span class="id" title="projection">plug</span></a> : <a class="idref" href="OpSemProofs.ctxequiv.html#obj"><span class="id" title="variable">obj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#hole"><span class="id" title="variable">hole</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#res"><span class="id" title="variable">res</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="OpSemProofs.ctxequiv.html#Plug.mk"><span class="id" title="constructor">mk</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="OpSemProofs.ctxequiv.html#Plug.plug"><span class="id" title="method">plug</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} !<span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="OpSemProofs.ctxequiv.html#Plug"><span class="id" title="module">Plug</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">&quot;</span></a>C ⟨ e ⟩" := (<a class="idref" href="OpSemProofs.ctxequiv.html#plug"><span class="id" title="method">Plug.plug</span></a> <span class="id" title="var">C</span> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 2, <span class="id" title="var">e</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 200, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">format</span> "C ⟨ e ⟩" ).<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="u_plug_frame"><span class="id" title="instance">u_plug_frame</span></a> : <a class="idref" href="OpSemProofs.ctxequiv.html#Plug"><span class="id" title="class">Plug.Plug</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#u_ctx_frame"><span class="id" title="inductive">u_ctx_frame</span></a> <a class="idref" href="OpSemProofs.syntax.html#u_expr"><span class="id" title="inductive">u_expr</span></a> <a class="idref" href="OpSemProofs.syntax.html#u_expr"><span class="id" title="inductive">u_expr</span></a> :=<br/>
&nbsp;&nbsp;{ <a class="idref" href="OpSemProofs.ctxequiv.html#plug"><span class="id" title="method">plug</span></a> <span class="id" title="var">f</span> <span class="id" title="var">e</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="OpSemProofs.ctxequiv.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#uc_app_f"><span class="id" title="constructor">uc_app_f</span></a> <span class="id" title="var">ea</span> =&gt; <a class="idref" href="OpSemProofs.syntax.html#u_app"><span class="id" title="constructor">u_app</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="var">ea</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#uc_app_a"><span class="id" title="constructor">uc_app_a</span></a> <span class="id" title="var">ef</span> =&gt; <a class="idref" href="OpSemProofs.syntax.html#u_app"><span class="id" title="constructor">u_app</span></a> <span class="id" title="var">ef</span> <a class="idref" href="OpSemProofs.ctxequiv.html#e"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#uc_factor"><span class="id" title="constructor">uc_factor</span></a> =&gt; <a class="idref" href="OpSemProofs.syntax.html#u_factor"><span class="id" title="constructor">u_factor</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#e"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#uc_plus_l"><span class="id" title="constructor">uc_plus_l</span></a> <span class="id" title="var">er</span> =&gt; <a class="idref" href="OpSemProofs.syntax.html#u_plus"><span class="id" title="constructor">u_plus</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="var">er</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#uc_plus_r"><span class="id" title="constructor">uc_plus_r</span></a> <span class="id" title="var">el</span> =&gt; <a class="idref" href="OpSemProofs.syntax.html#u_plus"><span class="id" title="constructor">u_plus</span></a> <span class="id" title="var">el</span> <a class="idref" href="OpSemProofs.ctxequiv.html#e"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#uc_lam"><span class="id" title="constructor">uc_lam</span></a> τ<span class="id" title="var">a</span> =&gt; <a class="idref" href="OpSemProofs.syntax.html#u_lam"><span class="id" title="constructor">u_lam</span></a> τ<span class="id" title="var">a</span> <a class="idref" href="OpSemProofs.ctxequiv.html#e"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="u_plug"><span class="id" title="definition">u_plug</span></a> (<span class="id" title="var">U</span> : <a class="idref" href="OpSemProofs.ctxequiv.html#u_ctx"><span class="id" title="definition">u_ctx</span></a>) (<span class="id" title="var">e</span> : <a class="idref" href="OpSemProofs.syntax.html#u_expr"><span class="id" title="inductive">u_expr</span></a>) : <a class="idref" href="OpSemProofs.syntax.html#u_expr"><span class="id" title="inductive">u_expr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="OpSemProofs.ctxequiv.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> =&gt; <a class="idref" href="OpSemProofs.ctxequiv.html#e"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">U'</span> =&gt; <span class="id" title="var">f</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#u_plug"><span class="id" title="definition">u_plug</span></a> <span class="id" title="var">U'</span> <a class="idref" href="OpSemProofs.ctxequiv.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="u_plug'"><span class="id" title="instance">u_plug'</span></a> : <a class="idref" href="OpSemProofs.ctxequiv.html#Plug"><span class="id" title="class">Plug.Plug</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#u_ctx"><span class="id" title="definition">u_ctx</span></a> <a class="idref" href="OpSemProofs.syntax.html#u_expr"><span class="id" title="inductive">u_expr</span></a> <a class="idref" href="OpSemProofs.syntax.html#u_expr"><span class="id" title="inductive">u_expr</span></a> := { <a class="idref" href="OpSemProofs.ctxequiv.html#plug"><span class="id" title="method">plug</span></a> := <a class="idref" href="OpSemProofs.ctxequiv.html#u_plug"><span class="id" title="definition">u_plug</span></a> }.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="plug_frame"><span class="id" title="instance">plug_frame</span></a> {<span class="id" title="var">Γo</span> τ<span class="id" title="var">o</span> <span class="id" title="var">Γh</span> τ<span class="id" title="var">h</span>}<br/>
&nbsp;&nbsp;: <a class="idref" href="OpSemProofs.ctxequiv.html#Plug"><span class="id" title="class">Plug.Plug</span></a> (<a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">FRAME</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#fc68c553740324099788cba09632d1f9"><span class="id" title="variable">Γo</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#822060a466bcd54791654747e0de37c6"><span class="id" title="variable">Γh</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">h</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>) (<a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#822060a466bcd54791654747e0de37c6"><span class="id" title="variable">Γh</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">h</span></a>) (<a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#fc68c553740324099788cba09632d1f9"><span class="id" title="variable">Γo</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>) :=<br/>
&nbsp;&nbsp;{ <a class="idref" href="OpSemProofs.ctxequiv.html#plug"><span class="id" title="method">plug</span></a> <span class="id" title="var">f</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="OpSemProofs.ctxequiv.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">in</span> (<a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">FRAME</span></a> <span class="id" title="var">Γo'</span> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">[</span></a><span class="id" title="var">Γh'</span> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> τ<span class="id" title="var">h'</span><a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">:</span></a> τ<span class="id" title="var">o'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">return</span> (<a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#e9093488a515c00bbb5a7429742e9ce9"><span class="id" title="variable">Γh'</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#da7bc810e5dbee579d4c583545328875"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#da7bc810e5dbee579d4c583545328875"><span class="id" title="variable">h'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#fbe691165e39d3201b77d7fe6cea0a71"><span class="id" title="variable">Γo'</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#aeca1d7ecd1cd361e3b2b59d71ab5dc2"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#aeca1d7ecd1cd361e3b2b59d71ab5dc2"><span class="id" title="variable">o'</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#c_app_f"><span class="id" title="constructor">c_app_f</span></a> <span class="id" title="var">ea</span> =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">e</span> =&gt; <a class="idref" href="OpSemProofs.syntax.html#e_app"><span class="id" title="constructor">e_app</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="var">ea</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#c_app_a"><span class="id" title="constructor">c_app_a</span></a> <span class="id" title="var">ef</span> =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">e</span> =&gt; <a class="idref" href="OpSemProofs.syntax.html#e_app"><span class="id" title="constructor">e_app</span></a> <span class="id" title="var">ef</span> <a class="idref" href="OpSemProofs.ctxequiv.html#e"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#c_factor"><span class="id" title="constructor">c_factor</span></a> =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">e</span> =&gt; <a class="idref" href="OpSemProofs.syntax.html#e_factor"><span class="id" title="constructor">e_factor</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#e"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#c_plus_l"><span class="id" title="constructor">c_plus_l</span></a> <span class="id" title="var">er</span> =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">e</span> =&gt; <a class="idref" href="OpSemProofs.syntax.html#e_plus"><span class="id" title="constructor">e_plus</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="var">er</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#c_plus_r"><span class="id" title="constructor">c_plus_r</span></a> <span class="id" title="var">el</span> =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">e</span> =&gt; <a class="idref" href="OpSemProofs.syntax.html#e_plus"><span class="id" title="constructor">e_plus</span></a> <span class="id" title="var">el</span> <a class="idref" href="OpSemProofs.ctxequiv.html#e"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#c_lam"><span class="id" title="constructor">c_lam</span></a> =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">e</span> =&gt; <a class="idref" href="OpSemProofs.syntax.html#e_lam"><span class="id" title="constructor">e_lam</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#e"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="plug"><span class="id" title="instance">plug</span></a> {<span class="id" title="var">Γo</span> τ<span class="id" title="var">o</span> <span class="id" title="var">Γh</span> τ<span class="id" title="var">h</span>}<br/>
&nbsp;&nbsp;: <a class="idref" href="OpSemProofs.ctxequiv.html#Plug"><span class="id" title="class">Plug.Plug</span></a> (<a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">CTX</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#fc68c553740324099788cba09632d1f9"><span class="id" title="variable">Γo</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#822060a466bcd54791654747e0de37c6"><span class="id" title="variable">Γh</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">h</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>) (<a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#822060a466bcd54791654747e0de37c6"><span class="id" title="variable">Γh</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">h</span></a>) (<a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#fc68c553740324099788cba09632d1f9"><span class="id" title="variable">Γo</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>) :=<br/>
&nbsp;&nbsp;{ <a class="idref" href="OpSemProofs.ctxequiv.html#plug"><span class="id" title="method">plug</span></a> <span class="id" title="var">C</span> <span class="id" title="var">e</span> := <a class="idref" href="OpSemProofs.chain.html#bichain_fold_right"><span class="id" title="definition">bichain_fold_right</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">C</span> <span class="id" title="var">e</span> =&gt; <a class="idref" href="OpSemProofs.ctxequiv.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a>) <a class="idref" href="OpSemProofs.ctxequiv.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#C"><span class="id" title="variable">C</span></a> }.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="erase_ctx_frame"><span class="id" title="definition">erase_ctx_frame</span></a> {<span class="id" title="var">Γo</span> τ<span class="id" title="var">o</span> <span class="id" title="var">Γh</span> τ<span class="id" title="var">h</span>} (<span class="id" title="var">f</span> : (<a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">FRAME</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#fc68c553740324099788cba09632d1f9"><span class="id" title="variable">Γo</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#822060a466bcd54791654747e0de37c6"><span class="id" title="variable">Γh</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">h</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="OpSemProofs.ctxequiv.html#u_ctx_frame"><span class="id" title="inductive">u_ctx_frame</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="OpSemProofs.ctxequiv.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#c_app_f"><span class="id" title="constructor">c_app_f</span></a> <span class="id" title="var">ea</span> =&gt; <a class="idref" href="OpSemProofs.ctxequiv.html#uc_app_f"><span class="id" title="constructor">uc_app_f</span></a> (<a class="idref" href="OpSemProofs.syntax.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">ea</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#c_app_a"><span class="id" title="constructor">c_app_a</span></a> <span class="id" title="var">ef</span> =&gt; <a class="idref" href="OpSemProofs.ctxequiv.html#uc_app_a"><span class="id" title="constructor">uc_app_a</span></a> (<a class="idref" href="OpSemProofs.syntax.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">ef</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#c_factor"><span class="id" title="constructor">c_factor</span></a> =&gt; <a class="idref" href="OpSemProofs.ctxequiv.html#uc_factor"><span class="id" title="constructor">uc_factor</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#c_plus_l"><span class="id" title="constructor">c_plus_l</span></a> <span class="id" title="var">er</span> =&gt; <a class="idref" href="OpSemProofs.ctxequiv.html#uc_plus_l"><span class="id" title="constructor">uc_plus_l</span></a> (<a class="idref" href="OpSemProofs.syntax.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">er</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="OpSemProofs.ctxequiv.html#c_plus_r"><span class="id" title="constructor">c_plus_r</span></a> <span class="id" title="var">el</span> =&gt; <a class="idref" href="OpSemProofs.ctxequiv.html#uc_plus_r"><span class="id" title="constructor">uc_plus_r</span></a> (<a class="idref" href="OpSemProofs.syntax.html#erase"><span class="id" title="definition">erase</span></a> <span class="id" title="var">el</span>)<br/>
&nbsp;&nbsp;| @<span class="id" title="var">c_lam</span> <span class="id" title="var">_</span> τ<span class="id" title="var">a</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="OpSemProofs.ctxequiv.html#uc_lam"><span class="id" title="constructor">uc_lam</span></a> τ<span class="id" title="var">a</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="erase_ctx"><span class="id" title="definition">erase_ctx</span></a> {<span class="id" title="var">Γo</span> τ<span class="id" title="var">o</span> <span class="id" title="var">Γh</span> τ<span class="id" title="var">h</span>} (<span class="id" title="var">C</span> : (<a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">CTX</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#fc68c553740324099788cba09632d1f9"><span class="id" title="variable">Γo</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#822060a466bcd54791654747e0de37c6"><span class="id" title="variable">Γh</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">h</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>)) : <a class="idref" href="OpSemProofs.ctxequiv.html#u_ctx"><span class="id" title="definition">u_ctx</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.chain.html#bichain_to_list"><span class="id" title="definition">bichain_to_list</span></a> (@<a class="idref" href="OpSemProofs.ctxequiv.html#erase_ctx_frame"><span class="id" title="definition">erase_ctx_frame</span></a>) <a class="idref" href="OpSemProofs.ctxequiv.html#C"><span class="id" title="variable">C</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="erase_cons"><span class="id" title="lemma">erase_cons</span></a> {<span class="id" title="var">Γo</span> τ<span class="id" title="var">o</span> <span class="id" title="var">Γm</span> τ<span class="id" title="var">m</span> <span class="id" title="var">Γi</span> τ<span class="id" title="var">i</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : (<a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">FRAME</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#fc68c553740324099788cba09632d1f9"><span class="id" title="variable">Γo</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#7b6e6fdc06f00ffa42b37fcf5db8e5c9"><span class="id" title="variable">Γm</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">m</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">C</span> : (<a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">CTX</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#7b6e6fdc06f00ffa42b37fcf5db8e5c9"><span class="id" title="variable">Γm</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#f9081aef22a9f803dd4d65c7276a36dc"><span class="id" title="variable">Γi</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">i</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">m</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.ctxequiv.html#erase_ctx"><span class="id" title="definition">erase_ctx</span></a> (<a class="idref" href="OpSemProofs.ctxequiv.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.chain.html#5be159d7812e0ee1400ff6c822eafcc6"><span class="id" title="notation">::::</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#C"><span class="id" title="variable">C</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#erase_ctx_frame"><span class="id" title="definition">erase_ctx_frame</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#erase_ctx"><span class="id" title="definition">erase_ctx</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#C"><span class="id" title="variable">C</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Logic.FinFun.html#"><span class="id" title="library">FinFun</span></a>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="erase_ctx_injective"><span class="id" title="lemma">erase_ctx_injective</span></a> {<span class="id" title="var">Γo</span> τ<span class="id" title="var">o</span> <span class="id" title="var">Γh</span> τ<span class="id" title="var">h</span>} : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Logic.FinFun.html#Injective"><span class="id" title="definition">Injective</span></a> (@<a class="idref" href="OpSemProofs.ctxequiv.html#erase_ctx"><span class="id" title="definition">erase_ctx</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#fc68c553740324099788cba09632d1f9"><span class="id" title="variable">Γo</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#822060a466bcd54791654747e0de37c6"><span class="id" title="variable">Γh</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">h</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">y</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">x</span> <span class="id" title="keyword">using</span> <a class="idref" href="OpSemProofs.chain.html#bichain_rect"><span class="id" title="lemma">bichain_rect</span></a>; <span class="id" title="tactic">intros</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">y0</span> <span class="id" title="keyword">using</span> <a class="idref" href="OpSemProofs.chain.html#bichain_rect"><span class="id" title="lemma">bichain_rect</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">y</span> <span class="id" title="keyword">using</span> <a class="idref" href="OpSemProofs.chain.html#bichain_rect"><span class="id" title="lemma">bichain_rect</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="OpSemProofs.ctxequiv.html#erase_cons"><span class="id" title="lemma">erase_cons</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inject</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">dep_destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">x1</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span> <span class="id" title="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inject</span> <span class="id" title="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="var">erewrite</span> <a class="idref" href="OpSemProofs.syntax.html#erase_injective"><span class="id" title="lemma">erase_injective</span></a>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="OpSemProofs.syntax.html#expr_type_unique"><span class="id" title="lemma">expr_type_unique</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="var">IHx</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="OpSemProofs.syntax.html#erase_injective"><span class="id" title="lemma">erase_injective</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="OpSemProofs.syntax.html#expr_type_unique"><span class="id" title="lemma">expr_type_unique</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inject</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="var">IHx</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="OpSemProofs.syntax.html#erase_injective"><span class="id" title="lemma">erase_injective</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="OpSemProofs.ctxequiv.html#erase_ctx_injective"><span class="id" title="lemma">erase_ctx_injective</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ctx_type_unique"><span class="id" title="lemma">ctx_type_unique</span></a> {<span class="id" title="var">Γo</span> τ<span class="id" title="var">o</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">Γi</span> τ<span class="id" title="var">i</span>} (<span class="id" title="var">C</span> : (<a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">CTX</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#fc68c553740324099788cba09632d1f9"><span class="id" title="variable">Γo</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#f9081aef22a9f803dd4d65c7276a36dc"><span class="id" title="variable">Γi</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">i</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">Γi'</span> τ<span class="id" title="var">i'</span>} (<span class="id" title="var">C'</span> : (<a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">CTX</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#fc68c553740324099788cba09632d1f9"><span class="id" title="variable">Γo</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#b7d17c70457712363103672b4ab464af"><span class="id" title="variable">Γi'</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#354132a76006390065ed2053511ef500"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#354132a76006390065ed2053511ef500"><span class="id" title="variable">i'</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.ctxequiv.html#erase_ctx"><span class="id" title="definition">erase_ctx</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#erase_ctx"><span class="id" title="definition">erase_ctx</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#C'"><span class="id" title="variable">C'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.ctxequiv.html#f9081aef22a9f803dd4d65c7276a36dc"><span class="id" title="variable">Γi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#b7d17c70457712363103672b4ab464af"><span class="id" title="variable">Γi'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#354132a76006390065ed2053511ef500"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#354132a76006390065ed2053511ef500"><span class="id" title="variable">i'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert_until</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">C</span> <span class="id" title="keyword">using</span> <a class="idref" href="OpSemProofs.chain.html#bichain_rect"><span class="id" title="lemma">bichain_rect</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">C'</span> <span class="id" title="keyword">using</span> <a class="idref" href="OpSemProofs.chain.html#bichain_rect"><span class="id" title="lemma">bichain_rect</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="OpSemProofs.ctxequiv.html#erase_ctx"><span class="id" title="definition">erase_ctx</span></a> <span class="id" title="var">C</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#erase_ctx"><span class="id" title="definition">erase_ctx</span></a> <span class="id" title="var">C'</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">dep_destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">x0</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">inject</span> <span class="id" title="var">Heq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHC</span>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="OpSemProofs.syntax.html#expr_type_unique"><span class="id" title="lemma">expr_type_unique</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="OpSemProofs.syntax.html#expr_type_unique"><span class="id" title="lemma">expr_type_unique</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inject</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="compat_plug1"><span class="id" title="lemma">compat_plug1</span></a> {<span class="id" title="var">Γo</span> τ<span class="id" title="var">o</span> <span class="id" title="var">Γh</span> τ<span class="id" title="var">h</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">FRAME</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#fc68c553740324099788cba09632d1f9"><span class="id" title="variable">Γo</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#822060a466bcd54791654747e0de37c6"><span class="id" title="variable">Γh</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">h</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">e0</span> <span class="id" title="var">e1</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">EXP</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#822060a466bcd54791654747e0de37c6"><span class="id" title="variable">Γh</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#e0"><span class="id" title="variable">e0</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">≈</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">h</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">EXP</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#fc68c553740324099788cba09632d1f9"><span class="id" title="variable">Γo</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#e0"><span class="id" title="variable">e0</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">≈</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#e1"><span class="id" title="variable">e1</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">dep_destruct</span> <span class="id" title="var">f</span>; <span class="id" title="var">cbn</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="OpSemProofs.relations.html#compat_app"><span class="id" title="lemma">compat_app</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="OpSemProofs.relations.html#compat_app"><span class="id" title="lemma">compat_app</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.relations.html#compat_factor"><span class="id" title="lemma">compat_factor</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.relations.html#compat_plus"><span class="id" title="lemma">compat_plus</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.relations.html#compat_plus"><span class="id" title="lemma">compat_plus</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.relations.html#compat_lam"><span class="id" title="lemma">compat_lam</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="plug_cons"><span class="id" title="definition">plug_cons</span></a> {<span class="id" title="var">Γo</span> τ<span class="id" title="var">o</span> <span class="id" title="var">Γm</span> τ<span class="id" title="var">m</span> <span class="id" title="var">Γi</span> τ<span class="id" title="var">i</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : (<a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">FRAME</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#fc68c553740324099788cba09632d1f9"><span class="id" title="variable">Γo</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#7b6e6fdc06f00ffa42b37fcf5db8e5c9"><span class="id" title="variable">Γm</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#ab48d0b977dbedcb100ce20237690718"><span class="id" title="variable">m</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#91f8cac763c09c296cc6814eda0cd1eb"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">C</span> (<span class="id" title="var">e</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#f9081aef22a9f803dd4d65c7276a36dc"><span class="id" title="variable">Γi</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#6b5ef15a3013dcf52b784988095ad453"><span class="id" title="variable">i</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.chain.html#5be159d7812e0ee1400ff6c822eafcc6"><span class="id" title="notation">::::</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">)⟨</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩⟩</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="compat_plug"><span class="id" title="lemma">compat_plug</span></a> {<span class="id" title="var">Γo</span> τ<span class="id" title="var">o</span> <span class="id" title="var">Γh</span> τ<span class="id" title="var">h</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">C</span> : <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">CTX</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#fc68c553740324099788cba09632d1f9"><span class="id" title="variable">Γo</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#822060a466bcd54791654747e0de37c6"><span class="id" title="variable">Γh</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">h</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">e0</span> <span class="id" title="var">e1</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">EXP</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#822060a466bcd54791654747e0de37c6"><span class="id" title="variable">Γh</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#e0"><span class="id" title="variable">e0</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">≈</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#76ba8e69dd017cec7e6801d2e8eaed3e"><span class="id" title="variable">h</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">EXP</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#fc68c553740324099788cba09632d1f9"><span class="id" title="variable">Γo</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#e0"><span class="id" title="variable">e0</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">≈</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#e1"><span class="id" title="variable">e1</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#deb7828c5b2ba3957d0dede8443b68d3"><span class="id" title="variable">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">C</span> <span class="id" title="keyword">using</span> <a class="idref" href="OpSemProofs.chain.html#bichain_rect"><span class="id" title="lemma">bichain_rect</span></a>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;} {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">EXP</span></a> <span class="id" title="var">xA</span> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">⊢</span></a> <span class="id" title="var">x</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><span class="id" title="var">C</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><span class="id" title="var">e0</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩⟩</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">≈</span></a> <span class="id" title="var">x</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><span class="id" title="var">C</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><span class="id" title="var">e1</span><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩⟩</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">:</span></a> <span class="id" title="var">yA</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.ctxequiv.html#compat_plug1"><span class="id" title="lemma">compat_plug1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="ctx_equiv"><span class="id" title="definition">ctx_equiv</span></a> {<span class="id" title="var">Γ</span> τ} (<span class="id" title="var">e0</span> <span class="id" title="var">e1</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">C</span> : (<a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">CTX</span></a> <a class="idref" href="OpSemProofs.syntax.html#e2ec2a380d764ef079e64369fbd29f66"><span class="id" title="notation">·</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">[</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">]</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1112558c4c77925d049077334e1e3bf7"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.syntax.html#e7b0d812dc6fa89f651429266ac01c95"><span class="id" title="constructor">ℝ</span></a>)) <span class="id" title="var">A</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.relations.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="definition">μ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#e0"><span class="id" title="variable">e0</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.relations.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="definition">μ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟨</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#e1"><span class="id" title="variable">e1</span></a><a class="idref" href="OpSemProofs.ctxequiv.html#028a11f0a2834a1ec28da5fb3b03142c"><span class="id" title="notation">⟩</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="relation_sound"><span class="id" title="lemma">relation_sound</span></a> {<span class="id" title="var">Γ</span> τ} (<span class="id" title="var">e0</span> <span class="id" title="var">e1</span> : <a class="idref" href="OpSemProofs.syntax.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">EXP</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">⊢</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#e0"><span class="id" title="variable">e0</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">≈</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="OpSemProofs.relations.html#ddffdd593e1b78db8f6c6c6fd2af39d5"><span class="id" title="notation">:</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.ctxequiv.html#ctx_equiv"><span class="id" title="definition">ctx_equiv</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#e0"><span class="id" title="variable">e0</span></a> <a class="idref" href="OpSemProofs.ctxequiv.html#e1"><span class="id" title="variable">e1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">re</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="OpSemProofs.ctxequiv.html#compat_plug"><span class="id" title="lemma">compat_plug</span></a> <span class="id" title="var">C</span> <span class="id" title="var">e0</span> <span class="id" title="var">e1</span> <span class="id" title="var">re</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="OpSemProofs.relations.html#G_rel_nil"><span class="id" title="constructor">G_rel_nil</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_sig_exprs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">elim_erase_eqs</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inject</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
