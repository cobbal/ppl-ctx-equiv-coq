<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">OpSemProofs.integration</h1>

<div class="code">
</div>

<div class="doc">
This file axiomatizes the needed definitions and properties of the Lebesgue
    integral. It ignores all issues of measurability, but otherwise attempts to
    only axiomatize well-known results in analysis and measure theory. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpSemProofs.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="OpSemProofs.entropy.html#"><span class="id" title="library">entropy</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Classes.Morphisms.html#"><span class="id" title="library">Coq.Classes.Morphisms</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Relations.Relations.html#"><span class="id" title="library">Coq.Relations.Relations</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab5"></a><h1 class="section">Definitions</h1>

<div class="paragraph"> </div>

 Using <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a></span> instead of <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> for the definition of an event is a little
    unusual, but allows us to define an indicator function that produces real
    numbers (which are in the <span class="inlinecode"><span class="id" title="keyword">Set</span></span> universe). It's very possible there are
    other solutions to this problem, such as using
    <span class="inlinecode"><span class="id" title="var">excluded_middle_informative</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="Event"><span class="id" title="definition">Event</span></a> <span class="id" title="var">X</span> := <a class="idref" href="OpSemProofs.integration.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="Meas"><span class="id" title="definition">Meas</span></a> <span class="id" title="var">A</span> := (<a class="idref" href="OpSemProofs.integration.html#Event"><span class="id" title="definition">Event</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a>+).<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="OpSemProofs.integration.html#ifte"><span class="id" title="definition">ifte</span></a></span> is a function version of "if then else" which allows tactics like
    f_equal can deal with it more easily. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="ifte"><span class="id" title="definition">ifte</span></a> {<span class="id" title="var">X</span>} (<span class="id" title="var">a</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="var">b</span> <span class="id" title="var">c</span> : <a class="idref" href="OpSemProofs.integration.html#X"><span class="id" title="variable">X</span></a>) := <span class="id" title="keyword">if</span> <a class="idref" href="OpSemProofs.integration.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="OpSemProofs.integration.html#b"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="OpSemProofs.integration.html#c"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="indicator"><span class="id" title="definition">indicator</span></a> {<span class="id" title="var">X</span>} (<span class="id" title="var">b</span> : <a class="idref" href="OpSemProofs.integration.html#Event"><span class="id" title="definition">Event</span></a> <a class="idref" href="OpSemProofs.integration.html#X"><span class="id" title="variable">X</span></a>) : <a class="idref" href="OpSemProofs.integration.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a>+ := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#ifte"><span class="id" title="definition">ifte</span></a> (<a class="idref" href="OpSemProofs.integration.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="OpSemProofs.integration.html#x"><span class="id" title="variable">x</span></a>) 1 0.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="full_event"><span class="id" title="definition">full_event</span></a> {<span class="id" title="var">X</span>} : <a class="idref" href="OpSemProofs.integration.html#Event"><span class="id" title="definition">Event</span></a> <a class="idref" href="OpSemProofs.integration.html#X"><span class="id" title="variable">X</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="bool_of_dec"><span class="id" title="definition">bool_of_dec</span></a> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span>} : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif.html#sumbool"><span class="id" title="inductive">sumbool</span></a> <a class="idref" href="OpSemProofs.integration.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="OpSemProofs.integration.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">xy</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="OpSemProofs.integration.html#xy"><span class="id" title="variable">xy</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab6"></a><h1 class="section">Axioms of integration</h1>

<div class="paragraph"> </div>

 Assume that integration exists for all (non-negative) functions. 
</div>
<div class="code">
<span class="id" title="keyword">Axiom</span> <a name="integration"><span class="id" title="axiom">integration</span></a> : <span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span>}, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">+)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a>+.<br/>

<br/>
</div>

<div class="doc">
Assume the general form of linearity for integration. 
</div>
<div class="code">
<span class="id" title="keyword">Axiom</span> <a name="integration_linear"><span class="id" title="axiom">integration_linear</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span>} (<span class="id" title="var">μ</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">s0</span> <span class="id" title="var">s1</span> : <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a>+) (<span class="id" title="var">f0</span> <span class="id" title="var">f1</span> : <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a>+),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#s0"><span class="id" title="variable">s0</span></a> <a class="idref" href="OpSemProofs.ennr.html#94d37570a1573183fff24de5e7b31e72"><span class="id" title="notation">*</span></a> <a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> <a class="idref" href="OpSemProofs.integration.html#f0"><span class="id" title="variable">f0</span></a> <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> <a class="idref" href="OpSemProofs.ennr.html#2b7048fe69ca5fd3a9840dce788e8965"><span class="id" title="notation">+</span></a> <a class="idref" href="OpSemProofs.integration.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="OpSemProofs.ennr.html#94d37570a1573183fff24de5e7b31e72"><span class="id" title="notation">*</span></a> <a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> <a class="idref" href="OpSemProofs.integration.html#f1"><span class="id" title="variable">f1</span></a> <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#s0"><span class="id" title="variable">s0</span></a> <a class="idref" href="OpSemProofs.ennr.html#94d37570a1573183fff24de5e7b31e72"><span class="id" title="notation">*</span></a> <a class="idref" href="OpSemProofs.integration.html#f0"><span class="id" title="variable">f0</span></a> <a class="idref" href="OpSemProofs.integration.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="OpSemProofs.ennr.html#2b7048fe69ca5fd3a9840dce788e8965"><span class="id" title="notation">+</span></a> <a class="idref" href="OpSemProofs.integration.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="OpSemProofs.ennr.html#94d37570a1573183fff24de5e7b31e72"><span class="id" title="notation">*</span></a> <a class="idref" href="OpSemProofs.integration.html#f1"><span class="id" title="variable">f1</span></a> <a class="idref" href="OpSemProofs.integration.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a>.<br/>

<br/>
</div>

<div class="doc">
In order to do any useful integration, we will need to axiomatize several
    measures involving real numbers. 
<div class="paragraph"> </div>

 Assume that <span class="inlinecode"><a class="idref" href="OpSemProofs.entropy.html#Entropy"><span class="id" title="definition">Entropy</span></a></span> has a probability measure on it 
</div>
<div class="code">
<span class="id" title="keyword">Axiom</span> <a name="0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.entropy.html#Entropy"><span class="id" title="definition">Entropy</span></a>.<br/>
<span class="id" title="keyword">Axiom</span> <a name="3c2349133d3a5b1d9ece88089b1acd9e"><span class="id" title="axiom">μEntropy_is_a_probability_measure</span></a> : <a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="OpSemProofs.integration.html#full_event"><span class="id" title="definition">full_event</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 1.<br/>

<br/>
</div>

<div class="doc">
Assume the Lebesgue measure restricted to non-negative reals. Throw in ∞
    too, but it's just one point so it has no mass. 
</div>
<div class="code">
<span class="id" title="keyword">Axiom</span> <a name="lebesgue_pos_measure"><span class="id" title="axiom">lebesgue_pos_measure</span></a> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a>+.<br/>

<br/>
</div>

<div class="doc">
Assume lebesgue(<span class="inlinecode">0,</span> <span class="inlinecode"><a class="idref" href="OpSemProofs.ennr.html#r"><span class="id" title="variable">r</span></a></span>) = r 
</div>
<div class="code">
<span class="id" title="keyword">Axiom</span> <a name="lebesgue_pos_measure_interval"><span class="id" title="axiom">lebesgue_pos_measure_interval</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">r</span> : <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a>+),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#lebesgue_pos_measure"><span class="id" title="axiom">lebesgue_pos_measure</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#bool_of_dec"><span class="id" title="definition">bool_of_dec</span></a> (<a class="idref" href="OpSemProofs.ennr.html#ennr_gt_dec"><span class="id" title="lemma">ennr_gt_dec</span></a> <a class="idref" href="OpSemProofs.integration.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="OpSemProofs.integration.html#x"><span class="id" title="variable">x</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.integration.html#r"><span class="id" title="variable">r</span></a>.<br/>

<br/>
</div>

<div class="doc">
Assume that Lebesgue integration can be expressed as a Riemann integral of
    the "layer cake" function. (Leib and Loss, 1997).

<div class="paragraph"> </div>

    Despite the promise in the name to relate Lebesgue and Riemann integrals, it
    is phrased here as a relation just between Lebesgue and Lebesgue. Since the
    Lebesuge integral is defined strictly more often than and always agrees with
    the Riemann integral, this is still a valid assumption.

<div class="paragraph"> </div>

    This assumption turns out to be very useful for proving equalities of
    integrals between measure-isomorphic domains. It also can provide a way to
    deal with integration by non-axiomatized measures, e.g. pushfowards. 
</div>
<div class="code">
<span class="id" title="keyword">Axiom</span> <a name="riemann_def_of_lebesgue_integration"><span class="id" title="axiom">riemann_def_of_lebesgue_integration</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span>} <span class="id" title="var">μ</span> (<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a>+),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#bool_of_dec"><span class="id" title="definition">bool_of_dec</span></a> (<a class="idref" href="OpSemProofs.ennr.html#ennr_gt_dec"><span class="id" title="lemma">ennr_gt_dec</span></a> (<a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.integration.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="OpSemProofs.integration.html#t"><span class="id" title="variable">t</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#lebesgue_pos_measure"><span class="id" title="axiom">lebesgue_pos_measure</span></a>.<br/>

<br/>
</div>

<div class="doc">
This assumption is usually presented as the first step in the definition of
    the Lebesgue integral. 
</div>
<div class="code">
<span class="id" title="keyword">Axiom</span> <a name="integration_of_indicator"><span class="id" title="axiom">integration_of_indicator</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">m</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.integration.html#Event"><span class="id" title="definition">Event</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#indicator"><span class="id" title="definition">indicator</span></a> <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.integration.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="OpSemProofs.integration.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.integration.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a>.<br/>

<br/>
</div>

<div class="doc">
(Lemma 5 in paper) This axiom states that entropy can be split into 2 IID
    entropies. 
</div>
<div class="code">
<span class="id" title="keyword">Axiom</span> <a name="ed3afcd402abe270516a6ae3f8c8535f"><span class="id" title="axiom">integration_</span></a><a name="ed3afcd402abe270516a6ae3f8c8535f"><span class="id" title="axiom">π</span></a><a name="ed3afcd402abe270516a6ae3f8c8535f"><span class="id" title="axiom">L_</span></a><a name="ed3afcd402abe270516a6ae3f8c8535f"><span class="id" title="axiom">π</span></a><a name="ed3afcd402abe270516a6ae3f8c8535f"><span class="id" title="axiom">R</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">g</span> : <a class="idref" href="OpSemProofs.entropy.html#Entropy"><span class="id" title="definition">Entropy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.entropy.html#Entropy"><span class="id" title="definition">Entropy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a>+),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> (<span class="id" title="keyword">fun</span> σ =&gt; <a class="idref" href="OpSemProofs.integration.html#g"><span class="id" title="variable">g</span></a> (<a class="idref" href="OpSemProofs.entropy.html#31c76a36555cdb7bda2afea8f8b43fb5"><span class="id" title="definition">π</span></a><a class="idref" href="OpSemProofs.entropy.html#31c76a36555cdb7bda2afea8f8b43fb5"><span class="id" title="definition">L</span></a> <a class="idref" href="OpSemProofs.integration.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="OpSemProofs.entropy.html#3f47f6a7fc05e816047de1ebd2a32693"><span class="id" title="definition">π</span></a><a class="idref" href="OpSemProofs.entropy.html#3f47f6a7fc05e816047de1ebd2a32693"><span class="id" title="definition">R</span></a> <a class="idref" href="OpSemProofs.integration.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>)) <a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> (<span class="id" title="keyword">fun</span> σ<span class="id" title="var">L</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> (<span class="id" title="keyword">fun</span> σ<span class="id" title="var">R</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="OpSemProofs.integration.html#b34a246edaadd919fde3116514891441"><span class="id" title="variable">σ</span></a><a class="idref" href="OpSemProofs.integration.html#b34a246edaadd919fde3116514891441"><span class="id" title="variable">L</span></a> <a class="idref" href="OpSemProofs.integration.html#7a5df5b9a6128bb43ae23bafa2ccb45e"><span class="id" title="variable">σ</span></a><a class="idref" href="OpSemProofs.integration.html#7a5df5b9a6128bb43ae23bafa2ccb45e"><span class="id" title="variable">R</span></a>) <a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a>) <a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a>.<br/>

<br/>
</div>

<div class="doc">
Define convenient, Haskelly syntax for working with markov kernels as a
    monad in the spirit of Giry (1980) and Panangaden (1999). For lack of a
    better name, let's call the SRel+ because we're removing the subprobability
    restriction from SRel. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="meas_bind"><span class="id" title="definition">meas_bind</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">μ</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a>) : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">ev</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.integration.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="OpSemProofs.integration.html#ev"><span class="id" title="variable">ev</span></a>) <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a>.<br/>
<span class="id" title="keyword">Infix</span> <a name="536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&quot;</span></a>&gt;&gt;=" := <a class="idref" href="OpSemProofs.integration.html#meas_bind"><span class="id" title="definition">meas_bind</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20).<br/>

<br/>
</div>

<div class="doc">
This is the associativity law for SRel+. Panangaden proved this for
    subprobabilities, but his proof makes no use of that restriction, and is
    therefore just as good of a proof in this instance. 
</div>
<div class="code">
<span class="id" title="keyword">Axiom</span> <a name="meas_bind_assoc"><span class="id" title="axiom">meas_bind_assoc</span></a> : <span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>} (<span class="id" title="var">μ</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">g</span> : <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#C"><span class="id" title="variable">C</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">)</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.integration.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#g"><span class="id" title="variable">g</span></a><a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
An actual definition of σ-finite here would be more challenging than
    rewarding, so we instead simply construct a short whitelist of measures that
    are known to be sigma finite and are safe to apply Tonelli's theorem to. 
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a name="KnownToBeSigmaFinite"><span class="id" title="inductive">KnownToBeSigmaFinite</span></a> : <span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span>}, <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="ent_finite"><span class="id" title="constructor">ent_finite</span></a> : <a class="idref" href="OpSemProofs.integration.html#KnownToBeSigmaFinite"><span class="id" title="inductive">KnownToBeSigmaFinite</span></a> <a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a><br/>
| <a name="leb_finite"><span class="id" title="constructor">leb_finite</span></a> : <a class="idref" href="OpSemProofs.integration.html#KnownToBeSigmaFinite"><span class="id" title="inductive">KnownToBeSigmaFinite</span></a> <a class="idref" href="OpSemProofs.integration.html#lebesgue_pos_measure"><span class="id" title="axiom">lebesgue_pos_measure</span></a>.<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="OpSemProofs.integration.html#KnownToBeSigmaFinite"><span class="id" title="inductive">KnownToBeSigmaFinite</span></a>.<br/>

<br/>
</div>

<div class="doc">
We axiomitize Tonelli's theorem for all combinations of the two measures
    listed above. 
</div>
<div class="code">
<span class="id" title="keyword">Axiom</span> <a name="tonelli_sigma_finite"><span class="id" title="axiom">tonelli_sigma_finite</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a>+) (<span class="id" title="var">μx</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">μy</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#KnownToBeSigmaFinite"><span class="id" title="inductive">KnownToBeSigmaFinite</span></a> <a class="idref" href="OpSemProofs.integration.html#11fb796244e445e4a591f1edf4fa077d"><span class="id" title="variable">μx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#KnownToBeSigmaFinite"><span class="id" title="inductive">KnownToBeSigmaFinite</span></a> <a class="idref" href="OpSemProofs.integration.html#cc7447e4536951da23d25b88197c463d"><span class="id" title="variable">μy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.integration.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="OpSemProofs.integration.html#y"><span class="id" title="variable">y</span></a>) <a class="idref" href="OpSemProofs.integration.html#cc7447e4536951da23d25b88197c463d"><span class="id" title="variable">μy</span></a>) <a class="idref" href="OpSemProofs.integration.html#11fb796244e445e4a591f1edf4fa077d"><span class="id" title="variable">μx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.integration.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="OpSemProofs.integration.html#y"><span class="id" title="variable">y</span></a>) <a class="idref" href="OpSemProofs.integration.html#11fb796244e445e4a591f1edf4fa077d"><span class="id" title="variable">μx</span></a>) <a class="idref" href="OpSemProofs.integration.html#cc7447e4536951da23d25b88197c463d"><span class="id" title="variable">μy</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab7"></a><h1 class="section">Consequences of the axioms</h1>

<div class="paragraph"> </div>

<a name="lab8"></a><h2 class="section">Measure combinators</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="empty_meas"><span class="id" title="definition">empty_meas</span></a> <span class="id" title="var">A</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> := <span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; 0.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="dirac"><span class="id" title="definition">dirac</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">v</span> : <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">e</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#indicator"><span class="id" title="definition">indicator</span></a> <a class="idref" href="OpSemProofs.integration.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="OpSemProofs.integration.html#v"><span class="id" title="variable">v</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="preimage"><span class="id" title="definition">preimage</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.integration.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.integration.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">eb</span> <span class="id" title="var">a</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#eb"><span class="id" title="variable">eb</span></a> (<a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.integration.html#a"><span class="id" title="variable">a</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="pushforward"><span class="id" title="definition">pushforward</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">μ</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a>) : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> <a class="idref" href="OpSemProofs.utils.html#28309b4b31fc061cea0bf998329431b2"><span class="id" title="notation">∘</span></a> <a class="idref" href="OpSemProofs.integration.html#preimage"><span class="id" title="definition">preimage</span></a> <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a>.<br/>

<br/>
</div>

<div class="doc">
two different ways to convert emptiness in an option to emptiness in a
    measure. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="option_meas"><span class="id" title="definition">option_meas</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">oμ</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a>)) : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.utils.html#fromOption"><span class="id" title="definition">fromOption</span></a> (<a class="idref" href="OpSemProofs.integration.html#empty_meas"><span class="id" title="definition">empty_meas</span></a> <span class="id" title="var">_</span>) <a class="idref" href="OpSemProofs.integration.html#cc44d98e6c01194de00b3f71d316603c"><span class="id" title="variable">oμ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="meas_option"><span class="id" title="definition">meas_option</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">μo</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a>)) : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">ev</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#20c9190fcf2bc63f608b0051dcb635af"><span class="id" title="variable">μo</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">oa</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="OpSemProofs.integration.html#oa"><span class="id" title="variable">oa</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#ev"><span class="id" title="variable">ev</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>

<br/>
</div>

<div class="doc">
Two ways to reweight a <span class="inlinecode"><a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a></span> <span class="inlinecode"><a class="idref" href="OpSemProofs.utils.html#A"><span class="id" title="variable">A</span></a></span>. <span class="inlinecode"><a class="idref" href="OpSemProofs.integration.html#unif_score_meas"><span class="id" title="definition">unif_score_meas</span></a></span> reweights the entire
    measure by a constant. <span class="inlinecode"><a class="idref" href="OpSemProofs.integration.html#score_meas"><span class="id" title="definition">score_meas</span></a></span> reweights dependent on each element in <span class="inlinecode"><a class="idref" href="OpSemProofs.utils.html#A"><span class="id" title="variable">A</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="score_meas"><span class="id" title="definition">score_meas</span></a> {<span class="id" title="var">X</span>} (<span class="id" title="var">w</span> : <a class="idref" href="OpSemProofs.integration.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a>+) (<span class="id" title="var">μ</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#X"><span class="id" title="variable">X</span></a>) : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#X"><span class="id" title="variable">X</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">A</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="OpSemProofs.integration.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="OpSemProofs.ennr.html#94d37570a1573183fff24de5e7b31e72"><span class="id" title="notation">*</span></a> <a class="idref" href="OpSemProofs.integration.html#indicator"><span class="id" title="definition">indicator</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="OpSemProofs.integration.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
TODO: do we still need this defn? 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="unif_score_meas"><span class="id" title="definition">unif_score_meas</span></a> {<span class="id" title="var">X</span>} (<span class="id" title="var">s</span> : <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a>+) (<span class="id" title="var">μ</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#X"><span class="id" title="variable">X</span></a>) : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#X"><span class="id" title="variable">X</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">A</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="OpSemProofs.ennr.html#94d37570a1573183fff24de5e7b31e72"><span class="id" title="notation">*</span></a> <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab9"></a><h2 class="section">Lemmas about integrals</h2>

<div class="paragraph"> </div>

 Tactic for showing <span class="inlinecode">∫</span> <span class="inlinecode"><a class="idref" href="OpSemProofs.utils.html#f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><span class="id" title="var">dμ</span></span> <span class="inlinecode">=</span> <span class="inlinecode">∫</span> <span class="inlinecode"><a class="idref" href="OpSemProofs.integration.html#g"><span class="id" title="variable">g</span></a></span> <span class="inlinecode"><span class="id" title="var">dμ</span></span> by pointwise equality of <span class="inlinecode"><a class="idref" href="OpSemProofs.utils.html#f"><span class="id" title="variable">f</span></a></span> and <span class="inlinecode"><a class="idref" href="OpSemProofs.integration.html#g"><span class="id" title="variable">g</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">integrand_extensionality</span> <span class="id" title="var">x</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#f_equal2"><span class="id" title="lemma">f_equal2</span></a> <a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>); <span class="id" title="tactic">extensionality</span> <span class="id" title="var">x</span>.<br/>

<br/>
</div>

<div class="doc">
Derive some more immediately useful forms of linearity. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="integration_linear_mult_r"><span class="id" title="lemma">integration_linear_mult_r</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span>} (<span class="id" title="var">μ</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">s</span> : <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a>+) (<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a>+),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> <a class="idref" href="OpSemProofs.ennr.html#94d37570a1573183fff24de5e7b31e72"><span class="id" title="notation">*</span></a> <a class="idref" href="OpSemProofs.integration.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.integration.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="OpSemProofs.ennr.html#94d37570a1573183fff24de5e7b31e72"><span class="id" title="notation">*</span></a> <a class="idref" href="OpSemProofs.integration.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ</span> <a class="idref" href="OpSemProofs.ennr.html#94d37570a1573183fff24de5e7b31e72"><span class="id" title="notation">*</span></a> <span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">s</span> <a class="idref" href="OpSemProofs.ennr.html#94d37570a1573183fff24de5e7b31e72"><span class="id" title="notation">*</span></a> <a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ</span> <a class="idref" href="OpSemProofs.ennr.html#2b7048fe69ca5fd3a9840dce788e8965"><span class="id" title="notation">+</span></a> 0 <a class="idref" href="OpSemProofs.ennr.html#94d37570a1573183fff24de5e7b31e72"><span class="id" title="notation">*</span></a> <a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> <span class="id" title="var">f</span> <span class="id" title="var">μ</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">ring</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.integration.html#integration_linear"><span class="id" title="axiom">integration_linear</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">integrand_extensionality</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">ring</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="integration_linear_mult_l"><span class="id" title="lemma">integration_linear_mult_l</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span>} (<span class="id" title="var">μ</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">s</span> : <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a>+) (<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a>+),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="OpSemProofs.ennr.html#94d37570a1573183fff24de5e7b31e72"><span class="id" title="notation">*</span></a> <a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="OpSemProofs.ennr.html#94d37570a1573183fff24de5e7b31e72"><span class="id" title="notation">*</span></a> <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.integration.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.ennr.html#ennr_mul_comm"><span class="id" title="lemma">ennr_mul_comm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.integration.html#integration_linear_mult_r"><span class="id" title="lemma">integration_linear_mult_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">integrand_extensionality</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">ring</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="integration_linear_in_meas"><span class="id" title="lemma">integration_linear_in_meas</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">μ</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">s</span> : <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a>+) (<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <span class="id" title="var">ev</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="OpSemProofs.ennr.html#94d37570a1573183fff24de5e7b31e72"><span class="id" title="notation">*</span></a> <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> <a class="idref" href="OpSemProofs.integration.html#ev"><span class="id" title="variable">ev</span></a><a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">)</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <span class="id" title="var">ev</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="OpSemProofs.ennr.html#94d37570a1573183fff24de5e7b31e72"><span class="id" title="notation">*</span></a> (<a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a>) <a class="idref" href="OpSemProofs.integration.html#ev"><span class="id" title="variable">ev</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">ev</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="OpSemProofs.integration.html#riemann_def_of_lebesgue_integration"><span class="id" title="axiom">riemann_def_of_lebesgue_integration</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="OpSemProofs.integration.html#integration_linear_mult_l"><span class="id" title="lemma">integration_linear_mult_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="integration_of_0"><span class="id" title="lemma">integration_of_0</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span>} (<span class="id" title="var">μ</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; 0) <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> 0 <span class="id" title="keyword">with</span> (0 <a class="idref" href="OpSemProofs.ennr.html#94d37570a1573183fff24de5e7b31e72"><span class="id" title="notation">*</span></a> 0) <span class="id" title="tactic">by</span> <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="OpSemProofs.integration.html#integration_linear_mult_r"><span class="id" title="lemma">integration_linear_mult_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">ring</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Some lemmas about integrating by the new measures 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="integral_of_pushforward"><span class="id" title="lemma">integral_of_pushforward</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">g</span> : <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">f</span> <span class="id" title="var">μ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> (<a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.utils.html#28309b4b31fc061cea0bf998329431b2"><span class="id" title="notation">∘</span></a> <a class="idref" href="OpSemProofs.integration.html#g"><span class="id" title="variable">g</span></a>) <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="OpSemProofs.integration.html#pushforward"><span class="id" title="definition">pushforward</span></a> <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> <a class="idref" href="OpSemProofs.integration.html#g"><span class="id" title="variable">g</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="OpSemProofs.integration.html#riemann_def_of_lebesgue_integration"><span class="id" title="axiom">riemann_def_of_lebesgue_integration</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="OpSemProofs.integration.html#pushforward"><span class="id" title="definition">pushforward</span></a>, <a class="idref" href="OpSemProofs.integration.html#preimage"><span class="id" title="definition">preimage</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="bind_empty"><span class="id" title="lemma">bind_empty</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} <span class="id" title="var">f</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#empty_meas"><span class="id" title="definition">empty_meas</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.integration.html#empty_meas"><span class="id" title="definition">empty_meas</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">ev</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="OpSemProofs.integration.html#riemann_def_of_lebesgue_integration"><span class="id" title="axiom">riemann_def_of_lebesgue_integration</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="OpSemProofs.integration.html#empty_meas"><span class="id" title="definition">empty_meas</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.integration.html#integration_of_0"><span class="id" title="lemma">integration_of_0</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="bind_meas_option"><span class="id" title="lemma">bind_meas_option</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} <span class="id" title="var">μ</span> (<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#meas_option"><span class="id" title="definition">meas_option</span></a> <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">ev</span> =&gt; <a class="idref" href="OpSemProofs.utils.html#option0"><span class="id" title="definition">option0</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.integration.html#ev"><span class="id" title="variable">ev</span></a> <a class="idref" href="OpSemProofs.utils.html#4349a846da865f3ca93aa43a0e297d28"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="OpSemProofs.integration.html#x"><span class="id" title="variable">x</span></a>)<a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">ev</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="OpSemProofs.integration.html#riemann_def_of_lebesgue_integration"><span class="id" title="axiom">riemann_def_of_lebesgue_integration</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">integrand_extensionality</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="OpSemProofs.integration.html#meas_option"><span class="id" title="definition">meas_option</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="OpSemProofs.ennr.html#ennr_gt_dec"><span class="id" title="lemma">ennr_gt_dec</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Reals.RIneq.html#Rle_not_lt"><span class="id" title="lemma">RIneq.Rle_not_lt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The remaining two monad laws for SRel+ 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a name="meas_id_left"><span class="id" title="lemma">meas_id_left</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} <span class="id" title="var">b</span> (<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#dirac"><span class="id" title="definition">dirac</span></a> <a class="idref" href="OpSemProofs.integration.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.integration.html#b"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">ev</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> "&gt;&gt;=".<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="OpSemProofs.integration.html#dirac"><span class="id" title="definition">dirac</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.integration.html#riemann_def_of_lebesgue_integration"><span class="id" title="axiom">riemann_def_of_lebesgue_integration</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="OpSemProofs.integration.html#integration_of_indicator"><span class="id" title="axiom">integration_of_indicator</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.integration.html#lebesgue_pos_measure_interval"><span class="id" title="axiom">lebesgue_pos_measure_interval</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="meas_id_right"><span class="id" title="lemma">meas_id_right</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">μ</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#dirac"><span class="id" title="definition">dirac</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">ev</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.integration.html#integration_of_indicator"><span class="id" title="axiom">integration_of_indicator</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab10"></a><h1 class="section">Measures that may be safely interchanged</h1>

<div class="paragraph"> </div>

 Tonelli's theorem will be too restricted to be of immediate use in dealing
    with some of our measures. We will need to prove a wider class of measures
    than just sigma-finite ones can be involved in an integral interchange. 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a name="interchangable"><span class="id" title="record">interchangable</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">μa</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">μb</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a name="interchange"><span class="id" title="projection">interchange</span></a> : (<span class="id" title="keyword">forall</span> {<span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#C"><span class="id" title="variable">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#5febb8204c6ba5f4c41c3ed23fea34d2"><span class="id" title="variable">μa</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#317715067cc258943d4cda9e1b6071f1"><span class="id" title="variable">μb</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.integration.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="OpSemProofs.integration.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#317715067cc258943d4cda9e1b6071f1"><span class="id" title="variable">μb</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#5febb8204c6ba5f4c41c3ed23fea34d2"><span class="id" title="variable">μa</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.integration.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="OpSemProofs.integration.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">))</span></a>).<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="OpSemProofs.integration.html#interchangable"><span class="id" title="record">interchangable</span></a></span> is a symmetric relation. Unfortunately we can't use the
    <span class="inlinecode"><span class="id" title="var">Symmetry</span></span> typeclass because it's a relation between different types. 
</div>
<div class="code">
<span class="id" title="keyword">Instance</span> <a name="interchangable_sym"><span class="id" title="instance">interchangable_sym</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">μa</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">μb</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#interchangable"><span class="id" title="class">interchangable</span></a> <a class="idref" href="OpSemProofs.integration.html#5febb8204c6ba5f4c41c3ed23fea34d2"><span class="id" title="variable">μa</span></a> <a class="idref" href="OpSemProofs.integration.html#317715067cc258943d4cda9e1b6071f1"><span class="id" title="variable">μb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#interchangable"><span class="id" title="class">interchangable</span></a> <a class="idref" href="OpSemProofs.integration.html#317715067cc258943d4cda9e1b6071f1"><span class="id" title="variable">μb</span></a> <a class="idref" href="OpSemProofs.integration.html#5febb8204c6ba5f4c41c3ed23fea34d2"><span class="id" title="variable">μa</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="sigma_finite_is_interchangable"><span class="id" title="instance">sigma_finite_is_interchangable</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">μa</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">μb</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#KnownToBeSigmaFinite"><span class="id" title="inductive">KnownToBeSigmaFinite</span></a> <a class="idref" href="OpSemProofs.integration.html#5febb8204c6ba5f4c41c3ed23fea34d2"><span class="id" title="variable">μa</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#KnownToBeSigmaFinite"><span class="id" title="inductive">KnownToBeSigmaFinite</span></a> <a class="idref" href="OpSemProofs.integration.html#317715067cc258943d4cda9e1b6071f1"><span class="id" title="variable">μb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#interchangable"><span class="id" title="class">interchangable</span></a> <a class="idref" href="OpSemProofs.integration.html#5febb8204c6ba5f4c41c3ed23fea34d2"><span class="id" title="variable">μa</span></a> <a class="idref" href="OpSemProofs.integration.html#317715067cc258943d4cda9e1b6071f1"><span class="id" title="variable">μb</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">ev</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="OpSemProofs.integration.html#tonelli_sigma_finite"><span class="id" title="axiom">tonelli_sigma_finite</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="score_meas_interchangable"><span class="id" title="instance">score_meas_interchangable</span></a> {<span class="id" title="var">X</span>} (<span class="id" title="var">μ</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#X"><span class="id" title="variable">X</span></a>) (<span class="id" title="var">w</span> : <a class="idref" href="OpSemProofs.integration.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a>+) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">Y</span>} (<span class="id" title="var">μy</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#Y"><span class="id" title="variable">Y</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#interchangable"><span class="id" title="class">interchangable</span></a> <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> <a class="idref" href="OpSemProofs.integration.html#cc7447e4536951da23d25b88197c463d"><span class="id" title="variable">μy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#interchangable"><span class="id" title="class">interchangable</span></a> (<a class="idref" href="OpSemProofs.integration.html#score_meas"><span class="id" title="definition">score_meas</span></a> <a class="idref" href="OpSemProofs.integration.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a>) <a class="idref" href="OpSemProofs.integration.html#cc7447e4536951da23d25b88197c463d"><span class="id" title="variable">μy</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="OpSemProofs.integration.html#meas_bind_assoc"><span class="id" title="axiom">meas_bind_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">ev</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">integrand_extensionality</span> <span class="id" title="var">x</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.integration.html#integration_linear_in_meas"><span class="id" title="lemma">integration_linear_in_meas</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="OpSemProofs.integration.html#integration_linear_in_meas"><span class="id" title="lemma">integration_linear_in_meas</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="OpSemProofs.integration.html#integration_linear_mult_l"><span class="id" title="lemma">integration_linear_mult_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">fold</span> (<a class="idref" href="OpSemProofs.integration.html#dirac"><span class="id" title="definition">dirac</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.integration.html#meas_id_left"><span class="id" title="lemma">meas_id_left</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">integrand_extensionality</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.integration.html#meas_id_left"><span class="id" title="lemma">meas_id_left</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="pushforward_interchangable"><span class="id" title="instance">pushforward_interchangable</span></a> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span>} (<span class="id" title="var">μ</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#X"><span class="id" title="variable">X</span></a>) (<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.integration.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.integration.html#Y"><span class="id" title="variable">Y</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">Z</span>} (<span class="id" title="var">μz</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#Z"><span class="id" title="variable">Z</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#interchangable"><span class="id" title="class">interchangable</span></a> <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> <a class="idref" href="OpSemProofs.integration.html#57faa6c26b4e9166851eaa6b88d623f6"><span class="id" title="variable">μz</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#interchangable"><span class="id" title="class">interchangable</span></a> (<a class="idref" href="OpSemProofs.integration.html#pushforward"><span class="id" title="definition">pushforward</span></a> <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a>) <a class="idref" href="OpSemProofs.integration.html#57faa6c26b4e9166851eaa6b88d623f6"><span class="id" title="variable">μz</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> "&gt;&gt;=".<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- (<a class="idref" href="OpSemProofs.integration.html#integral_of_pushforward"><span class="id" title="lemma">integral_of_pushforward</span></a> <span class="id" title="var">f</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">ev</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> ((<span class="id" title="var">μ</span> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">μz</span> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <span class="id" title="var">z</span> =&gt; (<span class="id" title="var">f0</span> <a class="idref" href="OpSemProofs.utils.html#28309b4b31fc061cea0bf998329431b2"><span class="id" title="notation">∘</span></a> <span class="id" title="var">f</span>) <a class="idref" href="OpSemProofs.integration.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="OpSemProofs.integration.html#z"><span class="id" title="variable">z</span></a><a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">))</span></a>) <span class="id" title="var">ev</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">μz</span> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <span class="id" title="var">z</span> =&gt; <span class="id" title="var">μ</span> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; (<span class="id" title="var">f0</span> <a class="idref" href="OpSemProofs.utils.html#28309b4b31fc061cea0bf998329431b2"><span class="id" title="notation">∘</span></a> <span class="id" title="var">f</span>) <a class="idref" href="OpSemProofs.integration.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="OpSemProofs.integration.html#z"><span class="id" title="variable">z</span></a><a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">))</span></a>) <span class="id" title="var">ev</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="meas_option_interchangable"><span class="id" title="instance">meas_option_interchangable</span></a> {<span class="id" title="var">X</span>} (<span class="id" title="var">μ</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="OpSemProofs.integration.html#X"><span class="id" title="variable">X</span></a>)) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">Y</span>} (<span class="id" title="var">μy</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#Y"><span class="id" title="variable">Y</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#interchangable"><span class="id" title="class">interchangable</span></a> <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a> <a class="idref" href="OpSemProofs.integration.html#cc7447e4536951da23d25b88197c463d"><span class="id" title="variable">μy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#interchangable"><span class="id" title="class">interchangable</span></a> (<a class="idref" href="OpSemProofs.integration.html#meas_option"><span class="id" title="definition">meas_option</span></a> <a class="idref" href="OpSemProofs.integration.html#a1155692e3f69913320174f980c7eaf1"><span class="id" title="variable">μ</span></a>) <a class="idref" href="OpSemProofs.integration.html#cc7447e4536951da23d25b88197c463d"><span class="id" title="variable">μy</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="OpSemProofs.integration.html#bind_meas_option"><span class="id" title="lemma">bind_meas_option</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">ev</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">integrand_extensionality</span> <span class="id" title="var">o</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="OpSemProofs.integration.html#integration_of_0"><span class="id" title="lemma">integration_of_0</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">trivial</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab11"></a><h2 class="section">Other lemmas</h2>

<div class="paragraph"> </div>

 Use the fact that <span class="inlinecode"><a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a></span> is a probability measure to lift constant
    functions out of integrals. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="integration_const_entropy"><span class="id" title="lemma">integration_const_entropy</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">v</span> : <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a>+)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <a class="idref" href="OpSemProofs.entropy.html#Entropy"><span class="id" title="definition">Entropy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a>+),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.integration.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.integration.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> <a class="idref" href="OpSemProofs.integration.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.integration.html#v"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">f</span> <span class="id" title="keyword">with</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">f</span> <a class="idref" href="OpSemProofs.integration.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="OpSemProofs.ennr.html#94d37570a1573183fff24de5e7b31e72"><span class="id" title="notation">*</span></a> 1) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">extensionality</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">ring</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="OpSemProofs.integration.html#integration_linear_mult_l"><span class="id" title="lemma">integration_linear_mult_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (@<a class="idref" href="OpSemProofs.integration.html#indicator"><span class="id" title="definition">indicator</span></a> <a class="idref" href="OpSemProofs.entropy.html#Entropy"><span class="id" title="definition">Entropy</span></a> <a class="idref" href="OpSemProofs.integration.html#full_event"><span class="id" title="definition">full_event</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.integration.html#integration_of_indicator"><span class="id" title="axiom">integration_of_indicator</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="OpSemProofs.integration.html#3c2349133d3a5b1d9ece88089b1acd9e"><span class="id" title="axiom">μEntropy_is_a_probability_measure</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">ring</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Repharse <span class="inlinecode"><span class="id" title="var">integration_</span>π<span class="id" title="var">L_</span>π<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Reals.Rdefinitions.html#R"><span class="id" title="axiom">R</span></a></span> in terms of <span class="inlinecode">&gt;&gt;=</span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="d675fad8deb025bbdd061daa63bb7e02"><span class="id" title="lemma">bind_</span></a><a name="d675fad8deb025bbdd061daa63bb7e02"><span class="id" title="lemma">π</span></a><a name="d675fad8deb025bbdd061daa63bb7e02"><span class="id" title="lemma">L_</span></a><a name="d675fad8deb025bbdd061daa63bb7e02"><span class="id" title="lemma">π</span></a><a name="d675fad8deb025bbdd061daa63bb7e02"><span class="id" title="lemma">R</span></a> {<span class="id" title="var">B</span>} (<span class="id" title="var">g</span> : <a class="idref" href="OpSemProofs.entropy.html#Entropy"><span class="id" title="definition">Entropy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.entropy.html#Entropy"><span class="id" title="definition">Entropy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> σ =&gt; <a class="idref" href="OpSemProofs.integration.html#g"><span class="id" title="variable">g</span></a> (<a class="idref" href="OpSemProofs.entropy.html#31c76a36555cdb7bda2afea8f8b43fb5"><span class="id" title="definition">π</span></a><a class="idref" href="OpSemProofs.entropy.html#31c76a36555cdb7bda2afea8f8b43fb5"><span class="id" title="definition">L</span></a> <a class="idref" href="OpSemProofs.integration.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="OpSemProofs.entropy.html#3f47f6a7fc05e816047de1ebd2a32693"><span class="id" title="definition">π</span></a><a class="idref" href="OpSemProofs.entropy.html#3f47f6a7fc05e816047de1ebd2a32693"><span class="id" title="definition">R</span></a> <a class="idref" href="OpSemProofs.integration.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>)<a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> σ<span class="id" title="var">L</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> σ<span class="id" title="var">R</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="OpSemProofs.integration.html#b34a246edaadd919fde3116514891441"><span class="id" title="variable">σ</span></a><a class="idref" href="OpSemProofs.integration.html#b34a246edaadd919fde3116514891441"><span class="id" title="variable">L</span></a> <a class="idref" href="OpSemProofs.integration.html#7a5df5b9a6128bb43ae23bafa2ccb45e"><span class="id" title="variable">σ</span></a><a class="idref" href="OpSemProofs.integration.html#7a5df5b9a6128bb43ae23bafa2ccb45e"><span class="id" title="variable">R</span></a><a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">))</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">ev</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> "&gt;&gt;=".<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="OpSemProofs.integration.html#ed3afcd402abe270516a6ae3f8c8535f"><span class="id" title="axiom">integration_</span></a><a class="idref" href="OpSemProofs.integration.html#ed3afcd402abe270516a6ae3f8c8535f"><span class="id" title="axiom">π</span></a><a class="idref" href="OpSemProofs.integration.html#ed3afcd402abe270516a6ae3f8c8535f"><span class="id" title="axiom">L_</span></a><a class="idref" href="OpSemProofs.integration.html#ed3afcd402abe270516a6ae3f8c8535f"><span class="id" title="axiom">π</span></a><a class="idref" href="OpSemProofs.integration.html#ed3afcd402abe270516a6ae3f8c8535f"><span class="id" title="axiom">R</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Apply <span class="inlinecode"><span class="id" title="var">bind_</span>π<span class="id" title="var">L_</span>π<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Reals.Rdefinitions.html#R"><span class="id" title="axiom">R</span></a></span> thrice in a convenient-to-use manner 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="pick_3_and_leftover"><span class="id" title="lemma">pick_3_and_leftover</span></a> {<span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g</span> : <a class="idref" href="OpSemProofs.entropy.html#Entropy"><span class="id" title="definition">Entropy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.entropy.html#Entropy"><span class="id" title="definition">Entropy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.entropy.html#Entropy"><span class="id" title="definition">Entropy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.entropy.html#Entropy"><span class="id" title="definition">Entropy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> σ =&gt; <a class="idref" href="OpSemProofs.integration.html#g"><span class="id" title="variable">g</span></a> (<a class="idref" href="OpSemProofs.entropy.html#31bf0b12546409e15021243132fc7574"><span class="id" title="definition">π</span></a> 0 <a class="idref" href="OpSemProofs.integration.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="OpSemProofs.entropy.html#31bf0b12546409e15021243132fc7574"><span class="id" title="definition">π</span></a> 1 <a class="idref" href="OpSemProofs.integration.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="OpSemProofs.entropy.html#31bf0b12546409e15021243132fc7574"><span class="id" title="definition">π</span></a> 2 <a class="idref" href="OpSemProofs.integration.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="OpSemProofs.entropy.html#971eb5e4646db967b76d8e1df6479825"><span class="id" title="definition">π</span></a><a class="idref" href="OpSemProofs.entropy.html#971eb5e4646db967b76d8e1df6479825"><span class="id" title="definition">_leftover</span></a> 3 <a class="idref" href="OpSemProofs.integration.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>)<a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> σ0 =&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> σ1 =&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> σ2 =&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> σ<span class="id" title="var">R</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="OpSemProofs.integration.html#ffc94b899901fdc1d2be18dbabbd34ae"><span class="id" title="variable">σ0</span></a> <a class="idref" href="OpSemProofs.integration.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="OpSemProofs.integration.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="OpSemProofs.integration.html#7a5df5b9a6128bb43ae23bafa2ccb45e"><span class="id" title="variable">σ</span></a><a class="idref" href="OpSemProofs.integration.html#7a5df5b9a6128bb43ae23bafa2ccb45e"><span class="id" title="variable">R</span></a><a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">))))</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="OpSemProofs.entropy.html#31bf0b12546409e15021243132fc7574"><span class="id" title="definition">π</span></a>, <a class="idref" href="OpSemProofs.entropy.html#971eb5e4646db967b76d8e1df6479825"><span class="id" title="definition">π</span></a><a class="idref" href="OpSemProofs.entropy.html#971eb5e4646db967b76d8e1df6479825"><span class="id" title="definition">_leftover</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">A</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;((<a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> σ0 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> σ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">g</span> <a class="idref" href="OpSemProofs.integration.html#ffc94b899901fdc1d2be18dbabbd34ae"><span class="id" title="variable">σ0</span></a> (<a class="idref" href="OpSemProofs.entropy.html#31c76a36555cdb7bda2afea8f8b43fb5"><span class="id" title="definition">π</span></a><a class="idref" href="OpSemProofs.entropy.html#31c76a36555cdb7bda2afea8f8b43fb5"><span class="id" title="definition">L</span></a> <a class="idref" href="OpSemProofs.integration.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="OpSemProofs.entropy.html#31c76a36555cdb7bda2afea8f8b43fb5"><span class="id" title="definition">π</span></a><a class="idref" href="OpSemProofs.entropy.html#31c76a36555cdb7bda2afea8f8b43fb5"><span class="id" title="definition">L</span></a> (<a class="idref" href="OpSemProofs.entropy.html#3f47f6a7fc05e816047de1ebd2a32693"><span class="id" title="definition">π</span></a><a class="idref" href="OpSemProofs.entropy.html#3f47f6a7fc05e816047de1ebd2a32693"><span class="id" title="definition">R</span></a> <a class="idref" href="OpSemProofs.integration.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>)) (<a class="idref" href="OpSemProofs.entropy.html#3f47f6a7fc05e816047de1ebd2a32693"><span class="id" title="definition">π</span></a><a class="idref" href="OpSemProofs.entropy.html#3f47f6a7fc05e816047de1ebd2a32693"><span class="id" title="definition">R</span></a> (<a class="idref" href="OpSemProofs.entropy.html#3f47f6a7fc05e816047de1ebd2a32693"><span class="id" title="definition">π</span></a><a class="idref" href="OpSemProofs.entropy.html#3f47f6a7fc05e816047de1ebd2a32693"><span class="id" title="definition">R</span></a> <a class="idref" href="OpSemProofs.integration.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>))<a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">))</span></a>) <span class="id" title="var">A</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="OpSemProofs.integration.html#d675fad8deb025bbdd061daa63bb7e02"><span class="id" title="lemma">bind_</span></a><a class="idref" href="OpSemProofs.integration.html#d675fad8deb025bbdd061daa63bb7e02"><span class="id" title="lemma">π</span></a><a class="idref" href="OpSemProofs.integration.html#d675fad8deb025bbdd061daa63bb7e02"><span class="id" title="lemma">L_</span></a><a class="idref" href="OpSemProofs.integration.html#d675fad8deb025bbdd061daa63bb7e02"><span class="id" title="lemma">π</span></a><a class="idref" href="OpSemProofs.integration.html#d675fad8deb025bbdd061daa63bb7e02"><span class="id" title="lemma">R</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="var">integrand_extensionality</span> σ0.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;((<a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> σ1 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> σ =&gt; <span class="id" title="var">g</span> σ0 <a class="idref" href="OpSemProofs.integration.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> (<a class="idref" href="OpSemProofs.entropy.html#31c76a36555cdb7bda2afea8f8b43fb5"><span class="id" title="definition">π</span></a><a class="idref" href="OpSemProofs.entropy.html#31c76a36555cdb7bda2afea8f8b43fb5"><span class="id" title="definition">L</span></a> <a class="idref" href="OpSemProofs.integration.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="OpSemProofs.entropy.html#3f47f6a7fc05e816047de1ebd2a32693"><span class="id" title="definition">π</span></a><a class="idref" href="OpSemProofs.entropy.html#3f47f6a7fc05e816047de1ebd2a32693"><span class="id" title="definition">R</span></a> <a class="idref" href="OpSemProofs.integration.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>)<a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">))</span></a>) <span class="id" title="var">A</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="OpSemProofs.integration.html#d675fad8deb025bbdd061daa63bb7e02"><span class="id" title="lemma">bind_</span></a><a class="idref" href="OpSemProofs.integration.html#d675fad8deb025bbdd061daa63bb7e02"><span class="id" title="lemma">π</span></a><a class="idref" href="OpSemProofs.integration.html#d675fad8deb025bbdd061daa63bb7e02"><span class="id" title="lemma">L_</span></a><a class="idref" href="OpSemProofs.integration.html#d675fad8deb025bbdd061daa63bb7e02"><span class="id" title="lemma">π</span></a><a class="idref" href="OpSemProofs.integration.html#d675fad8deb025bbdd061daa63bb7e02"><span class="id" title="lemma">R</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="var">integrand_extensionality</span> σ1.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="OpSemProofs.integration.html#d675fad8deb025bbdd061daa63bb7e02"><span class="id" title="lemma">bind_</span></a><a class="idref" href="OpSemProofs.integration.html#d675fad8deb025bbdd061daa63bb7e02"><span class="id" title="lemma">π</span></a><a class="idref" href="OpSemProofs.integration.html#d675fad8deb025bbdd061daa63bb7e02"><span class="id" title="lemma">L_</span></a><a class="idref" href="OpSemProofs.integration.html#d675fad8deb025bbdd061daa63bb7e02"><span class="id" title="lemma">π</span></a><a class="idref" href="OpSemProofs.integration.html#d675fad8deb025bbdd061daa63bb7e02"><span class="id" title="lemma">R</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Even more convenient ways to apply <span class="inlinecode"><span class="id" title="var">bind_</span>π<span class="id" title="var">L_</span>π<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Reals.Rdefinitions.html#R"><span class="id" title="axiom">R</span></a></span>! These are very similar to
    what the evaluation relation will look like, and will be easily be applied
    there. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="pick_3_entropies"><span class="id" title="lemma">pick_3_entropies</span></a> {<span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g</span> : <a class="idref" href="OpSemProofs.entropy.html#Entropy"><span class="id" title="definition">Entropy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.entropy.html#Entropy"><span class="id" title="definition">Entropy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.entropy.html#Entropy"><span class="id" title="definition">Entropy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> σ =&gt; <a class="idref" href="OpSemProofs.integration.html#g"><span class="id" title="variable">g</span></a> (<a class="idref" href="OpSemProofs.entropy.html#31bf0b12546409e15021243132fc7574"><span class="id" title="definition">π</span></a> 0 <a class="idref" href="OpSemProofs.integration.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="OpSemProofs.entropy.html#31bf0b12546409e15021243132fc7574"><span class="id" title="definition">π</span></a> 1 <a class="idref" href="OpSemProofs.integration.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="OpSemProofs.entropy.html#31bf0b12546409e15021243132fc7574"><span class="id" title="definition">π</span></a> 2 <a class="idref" href="OpSemProofs.integration.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>)<a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> σ0 =&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> σ1 =&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> σ2 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="OpSemProofs.integration.html#ffc94b899901fdc1d2be18dbabbd34ae"><span class="id" title="variable">σ0</span></a> <a class="idref" href="OpSemProofs.integration.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="OpSemProofs.integration.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a><a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">)))</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="OpSemProofs.integration.html#pick_3_and_leftover"><span class="id" title="lemma">pick_3_and_leftover</span></a> (<span class="id" title="keyword">fun</span> (σ0 σ1 σ2 σ<span class="id" title="var">R</span> : <a class="idref" href="OpSemProofs.entropy.html#Entropy"><span class="id" title="definition">Entropy</span></a>) =&gt; <span class="id" title="var">g</span> <a class="idref" href="OpSemProofs.integration.html#ffc94b899901fdc1d2be18dbabbd34ae"><span class="id" title="variable">σ0</span></a> <a class="idref" href="OpSemProofs.integration.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="OpSemProofs.integration.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">A</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">integrand_extensionality</span> σ0.<br/>
&nbsp;&nbsp;<span class="id" title="var">integrand_extensionality</span> σ1.<br/>
&nbsp;&nbsp;<span class="id" title="var">integrand_extensionality</span> σ2.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="OpSemProofs.integration.html#integration_const_entropy"><span class="id" title="lemma">integration_const_entropy</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pick_2_entropies"><span class="id" title="lemma">pick_2_entropies</span></a> {<span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g</span> : <a class="idref" href="OpSemProofs.entropy.html#Entropy"><span class="id" title="definition">Entropy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.entropy.html#Entropy"><span class="id" title="definition">Entropy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> σ =&gt; <a class="idref" href="OpSemProofs.integration.html#g"><span class="id" title="variable">g</span></a> (<a class="idref" href="OpSemProofs.entropy.html#31bf0b12546409e15021243132fc7574"><span class="id" title="definition">π</span></a> 0 <a class="idref" href="OpSemProofs.integration.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="OpSemProofs.entropy.html#31bf0b12546409e15021243132fc7574"><span class="id" title="definition">π</span></a> 1 <a class="idref" href="OpSemProofs.integration.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>)<a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> σ0 =&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#0dfb6736089a821010aaeb3893e7247c"><span class="id" title="axiom">μEntropy</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> σ1 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="OpSemProofs.integration.html#ffc94b899901fdc1d2be18dbabbd34ae"><span class="id" title="variable">σ0</span></a> <a class="idref" href="OpSemProofs.integration.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a><a class="idref" href="OpSemProofs.integration.html#536ef57757278fb23d9a25071832cfce"><span class="id" title="notation">))</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="OpSemProofs.integration.html#pick_3_entropies"><span class="id" title="lemma">pick_3_entropies</span></a> (<span class="id" title="keyword">fun</span> (σ0 σ1 σ2 : <a class="idref" href="OpSemProofs.entropy.html#Entropy"><span class="id" title="definition">Entropy</span></a>) =&gt; <span class="id" title="var">g</span> <a class="idref" href="OpSemProofs.integration.html#ffc94b899901fdc1d2be18dbabbd34ae"><span class="id" title="variable">σ0</span></a> <a class="idref" href="OpSemProofs.integration.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">A</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">integrand_extensionality</span> σ0.<br/>
&nbsp;&nbsp;<span class="id" title="var">integrand_extensionality</span> σ1.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="OpSemProofs.integration.html#integration_const_entropy"><span class="id" title="lemma">integration_const_entropy</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Lemma 5 in paper 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="coarsening"><span class="id" title="lemma">coarsening</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">X</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">M</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> (<a class="idref" href="OpSemProofs.integration.html#Event"><span class="id" title="definition">Event</span></a> <a class="idref" href="OpSemProofs.integration.html#X"><span class="id" title="variable">X</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">μ0</span> <span class="id" title="var">μ1</span> : <a class="idref" href="OpSemProofs.integration.html#Meas"><span class="id" title="definition">Meas</span></a> <a class="idref" href="OpSemProofs.integration.html#X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f0</span> <span class="id" title="var">f1</span> : <a class="idref" href="OpSemProofs.integration.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a>+)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">μs_agree</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">A0</span> <span class="id" title="var">A1</span>, <a class="idref" href="OpSemProofs.integration.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="OpSemProofs.integration.html#A0"><span class="id" title="variable">A0</span></a> <a class="idref" href="OpSemProofs.integration.html#A1"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="OpSemProofs.integration.html#41cf87062b3a8c8adceee9b5c43625d5"><span class="id" title="variable">μ0</span></a> <a class="idref" href="OpSemProofs.integration.html#A0"><span class="id" title="variable">A0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.integration.html#bb84a5ab00a6f2d7d56448852b3b7812"><span class="id" title="variable">μ1</span></a> <a class="idref" href="OpSemProofs.integration.html#A1"><span class="id" title="variable">A1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f_is_M_measurable</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">B</span> : <a class="idref" href="OpSemProofs.integration.html#Event"><span class="id" title="definition">Event</span></a> <a class="idref" href="OpSemProofs.ennr.html#4b5a53b513abe55876de4397b6a258fb"><span class="id" title="notation">R</span></a>+),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#M"><span class="id" title="variable">M</span></a> (<a class="idref" href="OpSemProofs.integration.html#preimage"><span class="id" title="definition">preimage</span></a> <a class="idref" href="OpSemProofs.integration.html#f0"><span class="id" title="variable">f0</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a>) (<a class="idref" href="OpSemProofs.integration.html#preimage"><span class="id" title="definition">preimage</span></a> <a class="idref" href="OpSemProofs.integration.html#f1"><span class="id" title="variable">f1</span></a> <a class="idref" href="OpSemProofs.integration.html#B"><span class="id" title="variable">B</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> <a class="idref" href="OpSemProofs.integration.html#f0"><span class="id" title="variable">f0</span></a> <a class="idref" href="OpSemProofs.integration.html#41cf87062b3a8c8adceee9b5c43625d5"><span class="id" title="variable">μ0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="OpSemProofs.integration.html#integration"><span class="id" title="axiom">integration</span></a> <a class="idref" href="OpSemProofs.integration.html#f1"><span class="id" title="variable">f1</span></a> <a class="idref" href="OpSemProofs.integration.html#bb84a5ab00a6f2d7d56448852b3b7812"><span class="id" title="variable">μ1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="OpSemProofs.integration.html#riemann_def_of_lebesgue_integration"><span class="id" title="axiom">riemann_def_of_lebesgue_integration</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">integrand_extensionality</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">μs_agree</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">f_is_M_measurable</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">fx</span> =&gt; <a class="idref" href="OpSemProofs.integration.html#bool_of_dec"><span class="id" title="definition">bool_of_dec</span></a> (<a class="idref" href="OpSemProofs.ennr.html#ennr_gt_dec"><span class="id" title="lemma">ennr_gt_dec</span></a> <a class="idref" href="OpSemProofs.integration.html#fx"><span class="id" title="variable">fx</span></a> <span class="id" title="var">t</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="OpSemProofs.integration.html#preimage"><span class="id" title="definition">preimage</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">f_is_M_measurable</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">f_is_M_measurable</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
